2024-09-29 20:55:51.700 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 20:55:52.387 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 20:55:53.133 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 20:55:53.149 +03:00 [DBG] Creating DbConnection.
2024-09-29 20:55:53.160 +03:00 [DBG] Created DbConnection. (8ms).
2024-09-29 20:55:53.183 +03:00 [DBG] Migrating using database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:53.203 +03:00 [DBG] Creating DbConnection.
2024-09-29 20:55:53.205 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-29 20:55:53.209 +03:00 [DBG] Opening connection to database '' on server 'localhost'.
2024-09-29 20:55:53.632 +03:00 [DBG] Opened connection to database '' on server 'localhost'.
2024-09-29 20:55:53.714 +03:00 [DBG] Disposing connection to database '' on server 'localhost'.
2024-09-29 20:55:53.719 +03:00 [DBG] Disposed connection to database '' on server 'localhost' (2ms).
2024-09-29 20:55:53.726 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-29 20:55:53.735 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2024-09-29 20:55:53.739 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
2024-09-29 20:55:53.740 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:53.796 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:53.805 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 20:55:53.942 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 20:55:53.948 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:53.953 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (4ms).
2024-09-29 20:55:53.958 +03:00 [DBG] Creating DbConnection.
2024-09-29 20:55:53.959 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 20:55:53.960 +03:00 [DBG] Opening connection to database '' on server 'localhost'.
2024-09-29 20:55:54.000 +03:00 [DBG] Opened connection to database '' on server 'localhost'.
2024-09-29 20:55:54.005 +03:00 [DBG] Disposing connection to database '' on server 'localhost'.
2024-09-29 20:55:54.007 +03:00 [DBG] Disposed connection to database '' on server 'localhost' (1ms).
2024-09-29 20:55:54.008 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-29 20:55:54.009 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-09-29 20:55:54.011 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-09-29 20:55:54.012 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:54.021 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:54.023 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 20:55:54.028 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 20:55:54.030 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:54.031 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 20:55:54.054 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:54.058 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:54.060 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:55:54.061 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:55:54.063 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-29 20:55:54.064 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-09-29 20:55:54.079 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-09-29 20:55:54.085 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:54.088 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 5ms reading results.
2024-09-29 20:55:54.091 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:54.092 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 20:55:54.113 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-09-29 20:55:54.117 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 20:55:54.119 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:55:54.121 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 20:55:54.127 +03:00 [DBG] Hosting starting
2024-09-29 20:55:54.175 +03:00 [INF] User profile is available. Using 'C:\Users\siros\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 20:55:54.195 +03:00 [DBG] Reading data from file 'C:\Users\siros\AppData\Local\ASP.NET\DataProtection-Keys\key-11bf2258-4bb4-4867-a1da-37ae292eaa57.xml'.
2024-09-29 20:55:54.231 +03:00 [DBG] Found key {11bf2258-4bb4-4867-a1da-37ae292eaa57}.
2024-09-29 20:55:54.248 +03:00 [DBG] Considering key {11bf2258-4bb4-4867-a1da-37ae292eaa57} with expiration date 2024-12-28 09:56:22Z as default key.
2024-09-29 20:55:54.256 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:55:54.258 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 20:55:54.260 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:55:54.263 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 20:55:54.265 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 20:55:54.268 +03:00 [DBG] Using key {11bf2258-4bb4-4867-a1da-37ae292eaa57} as the default key.
2024-09-29 20:55:54.270 +03:00 [DBG] Key ring with default key {11bf2258-4bb4-4867-a1da-37ae292eaa57} was loaded during application startup.
2024-09-29 20:55:54.492 +03:00 [INF] Now listening on: https://localhost:7223
2024-09-29 20:55:54.494 +03:00 [INF] Now listening on: http://localhost:5074
2024-09-29 20:55:54.494 +03:00 [DBG] Loaded hosting startup assembly ItMarathon.Api
2024-09-29 20:55:54.495 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-29 20:55:54.496 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 20:55:54.496 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 20:55:54.560 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 20:55:54.562 +03:00 [INF] Hosting environment: Development
2024-09-29 20:55:54.563 +03:00 [INF] Content root path: C:\it-marathon-v4-net-workshop\it-marathon-v4-net-workshop\ItMarathon\ItMarathon.Api
2024-09-29 20:55:54.564 +03:00 [DBG] Hosting started
2024-09-29 20:55:54.896 +03:00 [DBG] Connection id "0HN70LVRH8BM7" accepted.
2024-09-29 20:55:54.899 +03:00 [DBG] Connection id "0HN70LVRH8BM7" started.
2024-09-29 20:55:54.902 +03:00 [DBG] Connection id "0HN70LVRH8BM8" accepted.
2024-09-29 20:55:54.903 +03:00 [DBG] Connection id "0HN70LVRH8BM8" started.
2024-09-29 20:55:54.935 +03:00 [DBG] Connection id "0HN70LVRH8BM7" received FIN.
2024-09-29 20:55:54.935 +03:00 [DBG] Connection id "0HN70LVRH8BM8" received FIN.
2024-09-29 20:55:54.949 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:55:54.949 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:55:54.972 +03:00 [DBG] Connection id "0HN70LVRH8BM8" stopped.
2024-09-29 20:55:54.972 +03:00 [DBG] Connection id "0HN70LVRH8BM7" stopped.
2024-09-29 20:55:54.975 +03:00 [DBG] Connection id "0HN70LVRH8BM7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:55:54.975 +03:00 [DBG] Connection id "0HN70LVRH8BM8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:55:55.761 +03:00 [DBG] Connection id "0HN70LVRH8BM9" accepted.
2024-09-29 20:55:55.762 +03:00 [DBG] Connection id "0HN70LVRH8BM9" started.
2024-09-29 20:55:55.785 +03:00 [DBG] Connection 0HN70LVRH8BM9 established using the following protocol: "Tls13"
2024-09-29 20:55:55.937 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2024-09-29 20:55:56.147 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 20:55:56.172 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-29 20:55:56.174 +03:00 [DBG] Request did not match any endpoints
2024-09-29 20:55:56.334 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-29 20:55:56.338 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 20:55:56.369 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-29 20:55:56.371 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 20:55:56.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 453.6756ms
2024-09-29 20:55:56.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2024-09-29 20:55:56.395 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2024-09-29 20:55:56.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 47.2529ms
2024-09-29 20:55:56.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 134.3495ms
2024-09-29 20:55:56.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2024-09-29 20:55:56.606 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-29 20:55:56.609 +03:00 [DBG] Request did not match any endpoints
2024-09-29 20:55:56.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.0655ms
2024-09-29 20:55:58.785 +03:00 [DBG] Connection id "0HN70LVRH8BM9" received FIN.
2024-09-29 20:55:58.790 +03:00 [DBG] Connection id "0HN70LVRH8BM9" is closed. The last processed stream ID was 7.
2024-09-29 20:55:58.791 +03:00 [DBG] Connection id "0HN70LVRH8BM9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:55:58.793 +03:00 [DBG] The connection queue processing loop for 0HN70LVRH8BM9 completed.
2024-09-29 20:55:58.795 +03:00 [DBG] Connection id "0HN70LVRH8BM9" stopped.
2024-09-29 20:56:36.111 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 20:56:36.439 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 20:56:37.219 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 20:56:37.229 +03:00 [DBG] Creating DbConnection.
2024-09-29 20:56:37.237 +03:00 [DBG] Created DbConnection. (5ms).
2024-09-29 20:56:37.470 +03:00 [DBG] Migrating using database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:37.479 +03:00 [DBG] Creating DbConnection.
2024-09-29 20:56:37.481 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-29 20:56:37.485 +03:00 [DBG] Opening connection to database '' on server 'localhost'.
2024-09-29 20:56:37.845 +03:00 [DBG] Opened connection to database '' on server 'localhost'.
2024-09-29 20:56:37.887 +03:00 [DBG] Disposing connection to database '' on server 'localhost'.
2024-09-29 20:56:37.893 +03:00 [DBG] Disposed connection to database '' on server 'localhost' (2ms).
2024-09-29 20:56:37.901 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-29 20:56:37.906 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-09-29 20:56:37.909 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-09-29 20:56:37.910 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:37.945 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:37.952 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 20:56:37.982 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 20:56:37.989 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:37.994 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (4ms).
2024-09-29 20:56:37.998 +03:00 [DBG] Creating DbConnection.
2024-09-29 20:56:37.999 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-29 20:56:38.001 +03:00 [DBG] Opening connection to database '' on server 'localhost'.
2024-09-29 20:56:38.028 +03:00 [DBG] Opened connection to database '' on server 'localhost'.
2024-09-29 20:56:38.032 +03:00 [DBG] Disposing connection to database '' on server 'localhost'.
2024-09-29 20:56:38.035 +03:00 [DBG] Disposed connection to database '' on server 'localhost' (2ms).
2024-09-29 20:56:38.036 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-29 20:56:38.037 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-29 20:56:38.037 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-09-29 20:56:38.038 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:38.045 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:38.047 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 20:56:38.052 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 20:56:38.054 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:38.056 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (2ms).
2024-09-29 20:56:38.074 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:38.079 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:38.080 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:56:38.081 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:56:38.082 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:56:38.084 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-09-29 20:56:38.092 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-09-29 20:56:38.098 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:38.100 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 4ms reading results.
2024-09-29 20:56:38.103 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:38.104 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 20:56:38.117 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-09-29 20:56:38.120 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 20:56:38.122 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:38.124 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 20:56:38.127 +03:00 [DBG] Hosting starting
2024-09-29 20:56:38.151 +03:00 [INF] User profile is available. Using 'C:\Users\siros\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 20:56:38.158 +03:00 [DBG] Reading data from file 'C:\Users\siros\AppData\Local\ASP.NET\DataProtection-Keys\key-11bf2258-4bb4-4867-a1da-37ae292eaa57.xml'.
2024-09-29 20:56:38.172 +03:00 [DBG] Found key {11bf2258-4bb4-4867-a1da-37ae292eaa57}.
2024-09-29 20:56:38.181 +03:00 [DBG] Considering key {11bf2258-4bb4-4867-a1da-37ae292eaa57} with expiration date 2024-12-28 09:56:22Z as default key.
2024-09-29 20:56:38.186 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:56:38.188 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 20:56:38.192 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:56:38.194 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 20:56:38.197 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 20:56:38.200 +03:00 [DBG] Using key {11bf2258-4bb4-4867-a1da-37ae292eaa57} as the default key.
2024-09-29 20:56:38.201 +03:00 [DBG] Key ring with default key {11bf2258-4bb4-4867-a1da-37ae292eaa57} was loaded during application startup.
2024-09-29 20:56:38.364 +03:00 [INF] Now listening on: https://localhost:7223
2024-09-29 20:56:38.366 +03:00 [INF] Now listening on: http://localhost:5074
2024-09-29 20:56:38.368 +03:00 [DBG] Loaded hosting startup assembly ItMarathon.Api
2024-09-29 20:56:38.369 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-29 20:56:38.370 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 20:56:38.371 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 20:56:38.435 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 20:56:38.436 +03:00 [INF] Hosting environment: Development
2024-09-29 20:56:38.437 +03:00 [INF] Content root path: C:\it-marathon-v4-net-workshop\it-marathon-v4-net-workshop\ItMarathon\ItMarathon.Api
2024-09-29 20:56:38.438 +03:00 [DBG] Hosting started
2024-09-29 20:56:38.521 +03:00 [DBG] Connection id "0HN70M08H9IMR" accepted.
2024-09-29 20:56:38.525 +03:00 [DBG] Connection id "0HN70M08H9IMR" started.
2024-09-29 20:56:38.545 +03:00 [DBG] Connection id "0HN70M08H9IMS" received FIN.
2024-09-29 20:56:38.545 +03:00 [DBG] Connection id "0HN70M08H9IMR" received FIN.
2024-09-29 20:56:38.548 +03:00 [DBG] Connection id "0HN70M08H9IMS" accepted.
2024-09-29 20:56:38.549 +03:00 [DBG] Connection id "0HN70M08H9IMS" started.
2024-09-29 20:56:38.554 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:56:38.554 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:56:38.579 +03:00 [DBG] Connection id "0HN70M08H9IMS" stopped.
2024-09-29 20:56:38.579 +03:00 [DBG] Connection id "0HN70M08H9IMR" stopped.
2024-09-29 20:56:38.584 +03:00 [DBG] Connection id "0HN70M08H9IMS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:56:38.584 +03:00 [DBG] Connection id "0HN70M08H9IMR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:56:38.679 +03:00 [DBG] Connection id "0HN70M08H9IMT" accepted.
2024-09-29 20:56:38.682 +03:00 [DBG] Connection id "0HN70M08H9IMT" started.
2024-09-29 20:56:38.708 +03:00 [DBG] Connection 0HN70M08H9IMT established using the following protocol: "Tls13"
2024-09-29 20:56:38.844 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2024-09-29 20:56:38.946 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 20:56:38.971 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-29 20:56:38.973 +03:00 [DBG] Request did not match any endpoints
2024-09-29 20:56:39.075 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-29 20:56:39.078 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 20:56:39.109 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-29 20:56:39.111 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 20:56:39.119 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 285.1254ms
2024-09-29 20:56:39.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2024-09-29 20:56:39.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2024-09-29 20:56:39.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 19.703ms
2024-09-29 20:56:39.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.4404ms
2024-09-29 20:56:39.281 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2024-09-29 20:56:39.288 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-29 20:56:39.290 +03:00 [DBG] Request did not match any endpoints
2024-09-29 20:56:39.575 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 295.6322ms
2024-09-29 20:56:48.882 +03:00 [DBG] Connection id "0HN70M08H9IMT" received FIN.
2024-09-29 20:56:48.885 +03:00 [DBG] Connection id "0HN70M08H9IMT" is closed. The last processed stream ID was 7.
2024-09-29 20:56:48.886 +03:00 [DBG] The connection queue processing loop for 0HN70M08H9IMT completed.
2024-09-29 20:56:48.888 +03:00 [DBG] Connection id "0HN70M08H9IMT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:56:48.897 +03:00 [DBG] Connection id "0HN70M08H9IMT" stopped.
2024-09-29 20:56:55.266 +03:00 [DBG] Connection id "0HN70M08H9IMU" accepted.
2024-09-29 20:56:55.268 +03:00 [DBG] Connection id "0HN70M08H9IMU" started.
2024-09-29 20:56:55.271 +03:00 [DBG] Connection 0HN70M08H9IMU established using the following protocol: "Tls13"
2024-09-29 20:56:55.275 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24top=1 - null null
2024-09-29 20:56:55.282 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 20:56:55.285 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 20:56:55.288 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 20:56:55.292 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 20:56:55.307 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 20:56:55.311 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 20:56:55.346 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 20:56:55.351 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:56:55.354 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:56:55.356 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:56:55.358 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:56:55.360 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 20:56:55.363 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 20:56:55.510 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 20:56:55.533 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:56:55.537 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 20:56:55.541 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:56:55.543 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:56:55.544 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:56:55.549 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:56:55.552 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:56:55.555 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 20:56:55.557 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:56:55.559 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:56:55.561 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:56:55.563 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:56:55.564 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:56:55.566 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 20:56:55.568 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 20:56:55.571 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 20:56:55.573 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 20:56:55.575 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 20:56:55.576 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 20:56:55.578 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 20:56:55.579 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 20:56:55.580 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 20:56:55.582 +03:00 [DBG] Could not find a value in the request with name '$orderby' for binding parameter 'orderby' of type 'System.String'.
2024-09-29 20:56:55.584 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 20:56:55.586 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 20:56:55.587 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 20:56:55.588 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 20:56:56.553 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 20:56:56.642 +03:00 [DBG] Compiling query expression: 
'DbSet<Proposal>()
    .AsNoTracking()
    .OrderBy($it => $it.Id)
    .Take(__TypedProperty_0)
    .Include(p => p.AppUser)
    .Include(p => p.Photos)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PropertyDefinition)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PredefinedValue)
    .ThenInclude(prop => prop.ParentPropertyValue)'
2024-09-29 20:56:56.726 +03:00 [DBG] Including navigation: 'Proposal.AppUser'.
2024-09-29 20:56:56.728 +03:00 [DBG] Including navigation: 'Proposal.Photos'.
2024-09-29 20:56:56.729 +03:00 [DBG] Including navigation: 'Proposal.Properties'.
2024-09-29 20:56:56.732 +03:00 [DBG] Including navigation: 'Property.PropertyDefinition'.
2024-09-29 20:56:56.736 +03:00 [DBG] Including navigation: 'Property.PredefinedValue'.
2024-09-29 20:56:56.738 +03:00 [DBG] Including navigation: 'PropertyValue.ParentPropertyValue'.
2024-09-29 20:56:56.924 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-29 20:56:56.939 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Proposal>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Proposal.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Proposal.Age (int) Required, 1], [Property: Proposal.AgeUnits (int) Required, 2], [Property: Proposal.AppUserId (long) Required FK Index, 3], [Property: Proposal.CreatedOn (DateTime) Required, 4], [Property: Proposal.IsActive (bool) Required, 5], [Property: Proposal.LastModifiedOn (DateTime?), 6], [Property: Proposal.Location (string) Required Index MaxLength(50), 7], [Property: Proposal.PetName (string) MaxLength(50), 8], [Property: Proposal.PetOrigin (PetOrigin) Required, 9], [Property: Proposal.Price (decimal) Required Index, 10], [Property: Proposal.Summary (string) MaxLength(1500), 11], [Property: Proposal.Title (string) Required MaxLength(150), 12] }
            1 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: AppUser.CreatedOn (DateTime) Required, 14], [Property: AppUser.Email (string) Required Index MaxLength(320), 15], [Property: AppUser.HashedPassword (string) Required MaxLength(1024), 16], [Property: AppUser.IsActive (bool) Required, 17], [Property: AppUser.IsSuperuser (bool) Required, 18], [Property: AppUser.IsVerified (bool) Required, 19], [Property: AppUser.LastModifiedOn (DateTime) Required, 20], [Property: AppUser.Location (string) Required MaxLength(120), 21], [Property: AppUser.Name (string) Required MaxLength(50), 22], [Property: AppUser.PhoneNumber (string) MaxLength(15), 23], [Property: AppUser.PrefersPhoneCall (bool) Required, 24], [Property: AppUser.PrefersTelegram (bool) Required, 25], [Property: AppUser.Surname (string) Required MaxLength(50), 26] }
            2 -> 0
            3 -> 13
            4 -> Dictionary<IProperty, int> { [Property: ProposalPhoto.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: ProposalPhoto.CreatedOn (DateTime) Required, 28], [Property: ProposalPhoto.LastModifiedOn (DateTime?), 29], [Property: ProposalPhoto.ProposalId (long) Required FK Index, 30], [Property: ProposalPhoto.Url (string) Required MaxLength(2048), 31] }
            5 -> 27
            6 -> Dictionary<IProperty, int> { [Property: Property.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Property.CreatedOn (DateTime) Required, 33], [Property: Property.CustomValue (string) Index MaxLength(100), 34], [Property: Property.LastModifiedOn (DateTime?), 35], [Property: Property.PredefinedValueId (long?) FK Index, 36], [Property: Property.PropertyDefinitionId (long) Required FK Index, 37], [Property: Property.ProposalId (long?) FK Index, 38], [Property: Property.RequestId (long?) FK Index, 39] }
            7 -> Dictionary<IProperty, int> { [Property: PropertyDefinition.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: PropertyDefinition.Category (string) MaxLength(50), 41], [Property: PropertyDefinition.CreatedOn (DateTime) Required, 42], [Property: PropertyDefinition.IsMandatory (bool) Required, 43], [Property: PropertyDefinition.LastModifiedOn (DateTime?), 44], [Property: PropertyDefinition.Name (string) Required Index MaxLength(50), 45], [Property: PropertyDefinition.PropertyDefinitionType (PropertyDefinitionType) Required, 46] }
            8 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 47], [Property: PropertyValue.CreatedOn (DateTime) Required, 48], [Property: PropertyValue.LastModifiedOn (DateTime?), 49], [Property: PropertyValue.ParentId (long?) FK Index, 50], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 51], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 52] }
            9 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 53], [Property: PropertyValue.CreatedOn (DateTime) Required, 54], [Property: PropertyValue.LastModifiedOn (DateTime?), 55], [Property: PropertyValue.ParentId (long?) FK Index, 56], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 57], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 58] }
            10 -> 32
            11 -> 40
            12 -> 47
            13 -> 53
        SELECT t.Id, t.Age, t.AgeUnits, t.AppUserId, t.CreatedOn, t.IsActive, t.LastModifiedOn, t.Location, t.PetName, t.PetOrigin, t.Price, t.Summary, t.Title, u.id, u.created_on, u.email, u.hashed_password, u.is_active, u.is_superuser, u.is_verified, u.last_modified_on, u.location, u.name, u.phone_number, u.prefers_phone_call, u.prefers_telegram, u.surname, p0.Id, p0.CreatedOn, p0.LastModifiedOn, p0.ProposalId, p0.Url, t0.Id, t0.CreatedOn, t0.CustomValue, t0.LastModifiedOn, t0.PredefinedValueId, t0.PropertyDefinitionId, t0.ProposalId, t0.RequestId, t0.Id0, t0.Category, t0.CreatedOn0, t0.IsMandatory, t0.LastModifiedOn0, t0.Name, t0.PropertyDefinitionType, t0.Id1, t0.CreatedOn1, t0.LastModifiedOn1, t0.ParentId, t0.PropertyDefinitionId0, t0.Value, t0.Id2, t0.CreatedOn2, t0.LastModifiedOn2, t0.ParentId0, t0.PropertyDefinitionId1, t0.Value0
        FROM 
        (
            SELECT TOP(@__TypedProperty_0) p.Id, p.Age, p.AgeUnits, p.AppUserId, p.CreatedOn, p.IsActive, p.LastModifiedOn, p.Location, p.PetName, p.PetOrigin, p.Price, p.Summary, p.Title
            FROM Proposals AS p
            ORDER BY p.Id ASC
        ) AS t
        INNER JOIN users AS u ON t.AppUserId == u.id
        LEFT JOIN ProposalsPhoto AS p0 ON t.Id == p0.ProposalId
        LEFT JOIN 
        (
            SELECT p1.Id, p1.CreatedOn, p1.CustomValue, p1.LastModifiedOn, p1.PredefinedValueId, p1.PropertyDefinitionId, p1.ProposalId, p1.RequestId, p2.Id AS Id0, p2.Category, p2.CreatedOn AS CreatedOn0, p2.IsMandatory, p2.LastModifiedOn AS LastModifiedOn0, p2.Name, p2.PropertyDefinitionType, p3.Id AS Id1, p3.CreatedOn AS CreatedOn1, p3.LastModifiedOn AS LastModifiedOn1, p3.ParentId, p3.PropertyDefinitionId AS PropertyDefinitionId0, p3.Value, p4.Id AS Id2, p4.CreatedOn AS CreatedOn2, p4.LastModifiedOn AS LastModifiedOn2, p4.ParentId AS ParentId0, p4.PropertyDefinitionId AS PropertyDefinitionId1, p4.Value AS Value0
            FROM Properties AS p1
            INNER JOIN PropertiesDefinition AS p2 ON p1.PropertyDefinitionId == p2.Id
            LEFT JOIN PropertyValues AS p3 ON p1.PredefinedValueId == p3.Id
            LEFT JOIN PropertyValues AS p4 ON p3.ParentId == p4.Id
        ) AS t0 ON t.Id == t0.ProposalId
        ORDER BY t.Id ASC, u.id ASC, p0.Id ASC, t0.Id ASC, t0.Id0 ASC, t0.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Proposal>, 
    ItMarathon.Dal.Context.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-09-29 20:56:56.964 +03:00 [DBG] Creating DbConnection.
2024-09-29 20:56:56.966 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-29 20:56:56.968 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:56.972 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:56.974 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:56:56.976 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:56:56.996 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-09-29 20:56:56.999 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 20:56:57.042 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 20:56:57.058 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:57.060 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 14ms reading results.
2024-09-29 20:56:57.061 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:57.063 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 20:56:57.092 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 20:56:57.096 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 20:56:57.099 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 20:56:57.101 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 20:56:57.212 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 1847.8182ms
2024-09-29 20:56:57.215 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 20:56:57.218 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 20:56:57.221 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:56:57.223 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (2ms).
2024-09-29 20:56:57.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24top=1 - 200 null application/json; charset=utf-8 1951.0344ms
2024-09-29 20:56:58.892 +03:00 [DBG] Connection id "0HN70M08H9IMU" received FIN.
2024-09-29 20:56:58.894 +03:00 [DBG] Connection id "0HN70M08H9IMU" is closed. The last processed stream ID was 1.
2024-09-29 20:56:58.894 +03:00 [DBG] The connection queue processing loop for 0HN70M08H9IMU completed.
2024-09-29 20:56:58.896 +03:00 [DBG] Connection id "0HN70M08H9IMU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:56:58.907 +03:00 [DBG] Connection id "0HN70M08H9IMU" stopped.
2024-09-29 20:57:05.598 +03:00 [DBG] Connection id "0HN70M08H9IMV" accepted.
2024-09-29 20:57:05.599 +03:00 [DBG] Connection id "0HN70M08H9IMV" started.
2024-09-29 20:57:05.605 +03:00 [DBG] Connection 0HN70M08H9IMV established using the following protocol: "Tls13"
2024-09-29 20:57:05.608 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals - null null
2024-09-29 20:57:05.611 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 20:57:05.612 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 20:57:05.614 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 20:57:05.615 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 20:57:05.621 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 20:57:05.622 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 20:57:05.624 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 20:57:05.626 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:57:05.627 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:57:05.628 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:57:05.630 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:57:05.631 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 20:57:05.632 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 20:57:05.635 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 20:57:05.636 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:57:05.637 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 20:57:05.639 +03:00 [DBG] Could not find a value in the request with name '$top' for binding parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:05.640 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:05.640 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:05.641 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:57:05.642 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:05.643 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:57:05.644 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 20:57:05.646 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:05.647 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:05.648 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:05.649 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:57:05.651 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:05.653 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 20:57:05.654 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 20:57:05.655 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 20:57:05.657 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 20:57:05.658 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 20:57:05.660 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 20:57:05.661 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 20:57:05.662 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 20:57:05.663 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 20:57:05.665 +03:00 [DBG] Could not find a value in the request with name '$orderby' for binding parameter 'orderby' of type 'System.String'.
2024-09-29 20:57:05.666 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 20:57:05.668 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 20:57:05.669 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 20:57:05.670 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 20:57:05.722 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 20:57:05.725 +03:00 [DBG] Compiling query expression: 
'DbSet<Proposal>()
    .AsNoTracking()
    .Include(p => p.AppUser)
    .Include(p => p.Photos)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PropertyDefinition)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PredefinedValue)
    .ThenInclude(prop => prop.ParentPropertyValue)'
2024-09-29 20:57:05.728 +03:00 [DBG] Including navigation: 'Proposal.AppUser'.
2024-09-29 20:57:05.729 +03:00 [DBG] Including navigation: 'Proposal.Photos'.
2024-09-29 20:57:05.730 +03:00 [DBG] Including navigation: 'Proposal.Properties'.
2024-09-29 20:57:05.731 +03:00 [DBG] Including navigation: 'Property.PropertyDefinition'.
2024-09-29 20:57:05.732 +03:00 [DBG] Including navigation: 'Property.PredefinedValue'.
2024-09-29 20:57:05.733 +03:00 [DBG] Including navigation: 'PropertyValue.ParentPropertyValue'.
2024-09-29 20:57:05.748 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-29 20:57:05.754 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Proposal>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Proposal.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Proposal.Age (int) Required, 1], [Property: Proposal.AgeUnits (int) Required, 2], [Property: Proposal.AppUserId (long) Required FK Index, 3], [Property: Proposal.CreatedOn (DateTime) Required, 4], [Property: Proposal.IsActive (bool) Required, 5], [Property: Proposal.LastModifiedOn (DateTime?), 6], [Property: Proposal.Location (string) Required Index MaxLength(50), 7], [Property: Proposal.PetName (string) MaxLength(50), 8], [Property: Proposal.PetOrigin (PetOrigin) Required, 9], [Property: Proposal.Price (decimal) Required Index, 10], [Property: Proposal.Summary (string) MaxLength(1500), 11], [Property: Proposal.Title (string) Required MaxLength(150), 12] }
            1 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: AppUser.CreatedOn (DateTime) Required, 14], [Property: AppUser.Email (string) Required Index MaxLength(320), 15], [Property: AppUser.HashedPassword (string) Required MaxLength(1024), 16], [Property: AppUser.IsActive (bool) Required, 17], [Property: AppUser.IsSuperuser (bool) Required, 18], [Property: AppUser.IsVerified (bool) Required, 19], [Property: AppUser.LastModifiedOn (DateTime) Required, 20], [Property: AppUser.Location (string) Required MaxLength(120), 21], [Property: AppUser.Name (string) Required MaxLength(50), 22], [Property: AppUser.PhoneNumber (string) MaxLength(15), 23], [Property: AppUser.PrefersPhoneCall (bool) Required, 24], [Property: AppUser.PrefersTelegram (bool) Required, 25], [Property: AppUser.Surname (string) Required MaxLength(50), 26] }
            2 -> 0
            3 -> 13
            4 -> Dictionary<IProperty, int> { [Property: ProposalPhoto.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: ProposalPhoto.CreatedOn (DateTime) Required, 28], [Property: ProposalPhoto.LastModifiedOn (DateTime?), 29], [Property: ProposalPhoto.ProposalId (long) Required FK Index, 30], [Property: ProposalPhoto.Url (string) Required MaxLength(2048), 31] }
            5 -> 27
            6 -> Dictionary<IProperty, int> { [Property: Property.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Property.CreatedOn (DateTime) Required, 33], [Property: Property.CustomValue (string) Index MaxLength(100), 34], [Property: Property.LastModifiedOn (DateTime?), 35], [Property: Property.PredefinedValueId (long?) FK Index, 36], [Property: Property.PropertyDefinitionId (long) Required FK Index, 37], [Property: Property.ProposalId (long?) FK Index, 38], [Property: Property.RequestId (long?) FK Index, 39] }
            7 -> Dictionary<IProperty, int> { [Property: PropertyDefinition.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: PropertyDefinition.Category (string) MaxLength(50), 41], [Property: PropertyDefinition.CreatedOn (DateTime) Required, 42], [Property: PropertyDefinition.IsMandatory (bool) Required, 43], [Property: PropertyDefinition.LastModifiedOn (DateTime?), 44], [Property: PropertyDefinition.Name (string) Required Index MaxLength(50), 45], [Property: PropertyDefinition.PropertyDefinitionType (PropertyDefinitionType) Required, 46] }
            8 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 47], [Property: PropertyValue.CreatedOn (DateTime) Required, 48], [Property: PropertyValue.LastModifiedOn (DateTime?), 49], [Property: PropertyValue.ParentId (long?) FK Index, 50], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 51], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 52] }
            9 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 53], [Property: PropertyValue.CreatedOn (DateTime) Required, 54], [Property: PropertyValue.LastModifiedOn (DateTime?), 55], [Property: PropertyValue.ParentId (long?) FK Index, 56], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 57], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 58] }
            10 -> 32
            11 -> 40
            12 -> 47
            13 -> 53
        SELECT p.Id, p.Age, p.AgeUnits, p.AppUserId, p.CreatedOn, p.IsActive, p.LastModifiedOn, p.Location, p.PetName, p.PetOrigin, p.Price, p.Summary, p.Title, u.id, u.created_on, u.email, u.hashed_password, u.is_active, u.is_superuser, u.is_verified, u.last_modified_on, u.location, u.name, u.phone_number, u.prefers_phone_call, u.prefers_telegram, u.surname, p0.Id, p0.CreatedOn, p0.LastModifiedOn, p0.ProposalId, p0.Url, t.Id, t.CreatedOn, t.CustomValue, t.LastModifiedOn, t.PredefinedValueId, t.PropertyDefinitionId, t.ProposalId, t.RequestId, t.Id0, t.Category, t.CreatedOn0, t.IsMandatory, t.LastModifiedOn0, t.Name, t.PropertyDefinitionType, t.Id1, t.CreatedOn1, t.LastModifiedOn1, t.ParentId, t.PropertyDefinitionId0, t.Value, t.Id2, t.CreatedOn2, t.LastModifiedOn2, t.ParentId0, t.PropertyDefinitionId1, t.Value0
        FROM Proposals AS p
        INNER JOIN users AS u ON p.AppUserId == u.id
        LEFT JOIN ProposalsPhoto AS p0 ON p.Id == p0.ProposalId
        LEFT JOIN 
        (
            SELECT p1.Id, p1.CreatedOn, p1.CustomValue, p1.LastModifiedOn, p1.PredefinedValueId, p1.PropertyDefinitionId, p1.ProposalId, p1.RequestId, p2.Id AS Id0, p2.Category, p2.CreatedOn AS CreatedOn0, p2.IsMandatory, p2.LastModifiedOn AS LastModifiedOn0, p2.Name, p2.PropertyDefinitionType, p3.Id AS Id1, p3.CreatedOn AS CreatedOn1, p3.LastModifiedOn AS LastModifiedOn1, p3.ParentId, p3.PropertyDefinitionId AS PropertyDefinitionId0, p3.Value, p4.Id AS Id2, p4.CreatedOn AS CreatedOn2, p4.LastModifiedOn AS LastModifiedOn2, p4.ParentId AS ParentId0, p4.PropertyDefinitionId AS PropertyDefinitionId1, p4.Value AS Value0
            FROM Properties AS p1
            INNER JOIN PropertiesDefinition AS p2 ON p1.PropertyDefinitionId == p2.Id
            LEFT JOIN PropertyValues AS p3 ON p1.PredefinedValueId == p3.Id
            LEFT JOIN PropertyValues AS p4 ON p3.ParentId == p4.Id
        ) AS t ON p.Id == t.ProposalId
        ORDER BY p.Id ASC, u.id ASC, p0.Id ASC, t.Id ASC, t.Id0 ASC, t.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Proposal>, 
    ItMarathon.Dal.Context.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-09-29 20:57:05.759 +03:00 [DBG] Creating DbConnection.
2024-09-29 20:57:05.759 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 20:57:05.761 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:05.765 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:05.768 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:57:05.769 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:57:05.769 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:57:05.770 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 20:57:05.782 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 20:57:05.786 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:05.787 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 2ms reading results.
2024-09-29 20:57:05.789 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:05.790 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 20:57:05.792 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 20:57:05.794 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 20:57:05.795 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 20:57:05.796 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 20:57:05.797 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 164.9712ms
2024-09-29 20:57:05.799 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 20:57:05.800 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 20:57:05.801 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:05.802 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 20:57:05.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals - 200 null application/json; charset=utf-8 196.7763ms
2024-09-29 20:57:08.903 +03:00 [DBG] Connection id "0HN70M08H9IMV" received FIN.
2024-09-29 20:57:08.904 +03:00 [DBG] Connection id "0HN70M08H9IMV" is closed. The last processed stream ID was 1.
2024-09-29 20:57:08.905 +03:00 [DBG] The connection queue processing loop for 0HN70M08H9IMV completed.
2024-09-29 20:57:08.906 +03:00 [DBG] Connection id "0HN70M08H9IMV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:57:08.917 +03:00 [DBG] Connection id "0HN70M08H9IMV" stopped.
2024-09-29 20:57:24.994 +03:00 [DBG] Connection id "0HN70M08H9IN0" accepted.
2024-09-29 20:57:24.995 +03:00 [DBG] Connection id "0HN70M08H9IN0" started.
2024-09-29 20:57:25.001 +03:00 [DBG] Connection 0HN70M08H9IN0 established using the following protocol: "Tls13"
2024-09-29 20:57:25.005 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24filter=Price%20eq%20550 - null null
2024-09-29 20:57:25.007 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 20:57:25.009 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 20:57:25.010 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 20:57:25.011 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 20:57:25.015 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 20:57:25.017 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 20:57:25.019 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 20:57:25.020 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:57:25.021 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:57:25.023 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:57:25.025 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:57:25.026 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 20:57:25.027 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 20:57:25.029 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 20:57:25.031 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:57:25.031 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 20:57:25.033 +03:00 [DBG] Could not find a value in the request with name '$top' for binding parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:25.035 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:25.036 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:25.036 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:57:25.037 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:25.038 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:57:25.039 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 20:57:25.040 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:25.042 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:25.043 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:25.044 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 20:57:25.045 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 20:57:25.046 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 20:57:25.047 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 20:57:25.048 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 20:57:25.050 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 20:57:25.051 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 20:57:25.053 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 20:57:25.054 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 20:57:25.055 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 20:57:25.056 +03:00 [DBG] Could not find a value in the request with name '$orderby' for binding parameter 'orderby' of type 'System.String'.
2024-09-29 20:57:25.057 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 20:57:25.058 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 20:57:25.059 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 20:57:25.060 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 20:57:25.062 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 20:57:25.108 +03:00 [DBG] Compiling query expression: 
'DbSet<Proposal>()
    .AsNoTracking()
    .Where($it => $it.Price == __TypedProperty_0)
    .Include(p => p.AppUser)
    .Include(p => p.Photos)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PropertyDefinition)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PredefinedValue)
    .ThenInclude(prop => prop.ParentPropertyValue)'
2024-09-29 20:57:25.111 +03:00 [DBG] Including navigation: 'Proposal.AppUser'.
2024-09-29 20:57:25.113 +03:00 [DBG] Including navigation: 'Proposal.Photos'.
2024-09-29 20:57:25.114 +03:00 [DBG] Including navigation: 'Proposal.Properties'.
2024-09-29 20:57:25.116 +03:00 [DBG] Including navigation: 'Property.PropertyDefinition'.
2024-09-29 20:57:25.118 +03:00 [DBG] Including navigation: 'Property.PredefinedValue'.
2024-09-29 20:57:25.119 +03:00 [DBG] Including navigation: 'PropertyValue.ParentPropertyValue'.
2024-09-29 20:57:25.136 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-29 20:57:25.140 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Proposal>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Proposal.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Proposal.Age (int) Required, 1], [Property: Proposal.AgeUnits (int) Required, 2], [Property: Proposal.AppUserId (long) Required FK Index, 3], [Property: Proposal.CreatedOn (DateTime) Required, 4], [Property: Proposal.IsActive (bool) Required, 5], [Property: Proposal.LastModifiedOn (DateTime?), 6], [Property: Proposal.Location (string) Required Index MaxLength(50), 7], [Property: Proposal.PetName (string) MaxLength(50), 8], [Property: Proposal.PetOrigin (PetOrigin) Required, 9], [Property: Proposal.Price (decimal) Required Index, 10], [Property: Proposal.Summary (string) MaxLength(1500), 11], [Property: Proposal.Title (string) Required MaxLength(150), 12] }
            1 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: AppUser.CreatedOn (DateTime) Required, 14], [Property: AppUser.Email (string) Required Index MaxLength(320), 15], [Property: AppUser.HashedPassword (string) Required MaxLength(1024), 16], [Property: AppUser.IsActive (bool) Required, 17], [Property: AppUser.IsSuperuser (bool) Required, 18], [Property: AppUser.IsVerified (bool) Required, 19], [Property: AppUser.LastModifiedOn (DateTime) Required, 20], [Property: AppUser.Location (string) Required MaxLength(120), 21], [Property: AppUser.Name (string) Required MaxLength(50), 22], [Property: AppUser.PhoneNumber (string) MaxLength(15), 23], [Property: AppUser.PrefersPhoneCall (bool) Required, 24], [Property: AppUser.PrefersTelegram (bool) Required, 25], [Property: AppUser.Surname (string) Required MaxLength(50), 26] }
            2 -> 0
            3 -> 13
            4 -> Dictionary<IProperty, int> { [Property: ProposalPhoto.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: ProposalPhoto.CreatedOn (DateTime) Required, 28], [Property: ProposalPhoto.LastModifiedOn (DateTime?), 29], [Property: ProposalPhoto.ProposalId (long) Required FK Index, 30], [Property: ProposalPhoto.Url (string) Required MaxLength(2048), 31] }
            5 -> 27
            6 -> Dictionary<IProperty, int> { [Property: Property.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Property.CreatedOn (DateTime) Required, 33], [Property: Property.CustomValue (string) Index MaxLength(100), 34], [Property: Property.LastModifiedOn (DateTime?), 35], [Property: Property.PredefinedValueId (long?) FK Index, 36], [Property: Property.PropertyDefinitionId (long) Required FK Index, 37], [Property: Property.ProposalId (long?) FK Index, 38], [Property: Property.RequestId (long?) FK Index, 39] }
            7 -> Dictionary<IProperty, int> { [Property: PropertyDefinition.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: PropertyDefinition.Category (string) MaxLength(50), 41], [Property: PropertyDefinition.CreatedOn (DateTime) Required, 42], [Property: PropertyDefinition.IsMandatory (bool) Required, 43], [Property: PropertyDefinition.LastModifiedOn (DateTime?), 44], [Property: PropertyDefinition.Name (string) Required Index MaxLength(50), 45], [Property: PropertyDefinition.PropertyDefinitionType (PropertyDefinitionType) Required, 46] }
            8 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 47], [Property: PropertyValue.CreatedOn (DateTime) Required, 48], [Property: PropertyValue.LastModifiedOn (DateTime?), 49], [Property: PropertyValue.ParentId (long?) FK Index, 50], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 51], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 52] }
            9 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 53], [Property: PropertyValue.CreatedOn (DateTime) Required, 54], [Property: PropertyValue.LastModifiedOn (DateTime?), 55], [Property: PropertyValue.ParentId (long?) FK Index, 56], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 57], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 58] }
            10 -> 32
            11 -> 40
            12 -> 47
            13 -> 53
        SELECT p.Id, p.Age, p.AgeUnits, p.AppUserId, p.CreatedOn, p.IsActive, p.LastModifiedOn, p.Location, p.PetName, p.PetOrigin, p.Price, p.Summary, p.Title, u.id, u.created_on, u.email, u.hashed_password, u.is_active, u.is_superuser, u.is_verified, u.last_modified_on, u.location, u.name, u.phone_number, u.prefers_phone_call, u.prefers_telegram, u.surname, p0.Id, p0.CreatedOn, p0.LastModifiedOn, p0.ProposalId, p0.Url, t.Id, t.CreatedOn, t.CustomValue, t.LastModifiedOn, t.PredefinedValueId, t.PropertyDefinitionId, t.ProposalId, t.RequestId, t.Id0, t.Category, t.CreatedOn0, t.IsMandatory, t.LastModifiedOn0, t.Name, t.PropertyDefinitionType, t.Id1, t.CreatedOn1, t.LastModifiedOn1, t.ParentId, t.PropertyDefinitionId0, t.Value, t.Id2, t.CreatedOn2, t.LastModifiedOn2, t.ParentId0, t.PropertyDefinitionId1, t.Value0
        FROM Proposals AS p
        INNER JOIN users AS u ON p.AppUserId == u.id
        LEFT JOIN ProposalsPhoto AS p0 ON p.Id == p0.ProposalId
        LEFT JOIN 
        (
            SELECT p1.Id, p1.CreatedOn, p1.CustomValue, p1.LastModifiedOn, p1.PredefinedValueId, p1.PropertyDefinitionId, p1.ProposalId, p1.RequestId, p2.Id AS Id0, p2.Category, p2.CreatedOn AS CreatedOn0, p2.IsMandatory, p2.LastModifiedOn AS LastModifiedOn0, p2.Name, p2.PropertyDefinitionType, p3.Id AS Id1, p3.CreatedOn AS CreatedOn1, p3.LastModifiedOn AS LastModifiedOn1, p3.ParentId, p3.PropertyDefinitionId AS PropertyDefinitionId0, p3.Value, p4.Id AS Id2, p4.CreatedOn AS CreatedOn2, p4.LastModifiedOn AS LastModifiedOn2, p4.ParentId AS ParentId0, p4.PropertyDefinitionId AS PropertyDefinitionId1, p4.Value AS Value0
            FROM Properties AS p1
            INNER JOIN PropertiesDefinition AS p2 ON p1.PropertyDefinitionId == p2.Id
            LEFT JOIN PropertyValues AS p3 ON p1.PredefinedValueId == p3.Id
            LEFT JOIN PropertyValues AS p4 ON p3.ParentId == p4.Id
        ) AS t ON p.Id == t.ProposalId
        WHERE p.Price == @__TypedProperty_0
        ORDER BY p.Id ASC, u.id ASC, p0.Id ASC, t.Id ASC, t.Id0 ASC, t.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Proposal>, 
    ItMarathon.Dal.Context.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-09-29 20:57:25.145 +03:00 [DBG] Creating DbConnection.
2024-09-29 20:57:25.146 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 20:57:25.147 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:25.151 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:25.154 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:57:25.155 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:57:25.156 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:57:25.157 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
WHERE `p`.`Price` = @__TypedProperty_0
ORDER BY `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 20:57:25.165 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__TypedProperty_0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
WHERE `p`.`Price` = @__TypedProperty_0
ORDER BY `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 20:57:25.168 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:25.170 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 20:57:25.171 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:25.172 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 20:57:25.173 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 20:57:25.174 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 20:57:25.176 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 20:57:25.177 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 20:57:25.178 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 150.544ms
2024-09-29 20:57:25.180 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 20:57:25.181 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 20:57:25.182 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 20:57:25.184 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 20:57:25.185 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24filter=Price%20eq%20550 - 200 null application/json; charset=utf-8 180.5658ms
2024-09-29 20:57:28.931 +03:00 [DBG] Connection id "0HN70M08H9IN0" received FIN.
2024-09-29 20:57:28.935 +03:00 [DBG] Connection id "0HN70M08H9IN0" is closed. The last processed stream ID was 1.
2024-09-29 20:57:28.935 +03:00 [DBG] The connection queue processing loop for 0HN70M08H9IN0 completed.
2024-09-29 20:57:28.936 +03:00 [DBG] Connection id "0HN70M08H9IN0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:57:28.946 +03:00 [DBG] Connection id "0HN70M08H9IN0" stopped.
2024-09-29 21:12:10.107 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 21:12:10.473 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 21:12:11.232 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:12:11.250 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:12:11.260 +03:00 [DBG] Created DbConnection. (8ms).
2024-09-29 21:12:11.282 +03:00 [DBG] Migrating using database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.292 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:12:11.294 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-29 21:12:11.298 +03:00 [DBG] Opening connection to database '' on server 'localhost'.
2024-09-29 21:12:11.587 +03:00 [DBG] Opened connection to database '' on server 'localhost'.
2024-09-29 21:12:11.653 +03:00 [DBG] Disposing connection to database '' on server 'localhost'.
2024-09-29 21:12:11.658 +03:00 [DBG] Disposed connection to database '' on server 'localhost' (2ms).
2024-09-29 21:12:11.665 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-29 21:12:11.670 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-09-29 21:12:11.672 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-09-29 21:12:11.674 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.715 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.721 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 21:12:11.780 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 21:12:11.785 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.789 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (4ms).
2024-09-29 21:12:11.793 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:12:11.794 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:12:11.795 +03:00 [DBG] Opening connection to database '' on server 'localhost'.
2024-09-29 21:12:11.821 +03:00 [DBG] Opened connection to database '' on server 'localhost'.
2024-09-29 21:12:11.824 +03:00 [DBG] Disposing connection to database '' on server 'localhost'.
2024-09-29 21:12:11.826 +03:00 [DBG] Disposed connection to database '' on server 'localhost' (1ms).
2024-09-29 21:12:11.827 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-29 21:12:11.828 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-29 21:12:11.829 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-09-29 21:12:11.830 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.838 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.839 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 21:12:11.844 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 21:12:11.846 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.847 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:12:11.866 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.872 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.873 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:12:11.874 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:12:11.875 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:12:11.877 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-09-29 21:12:11.886 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-09-29 21:12:11.893 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.895 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 5ms reading results.
2024-09-29 21:12:11.896 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.897 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:12:11.909 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-09-29 21:12:11.912 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:12:11.913 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:12:11.914 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:12:11.917 +03:00 [DBG] Hosting starting
2024-09-29 21:12:11.950 +03:00 [INF] User profile is available. Using 'C:\Users\siros\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 21:12:11.959 +03:00 [DBG] Reading data from file 'C:\Users\siros\AppData\Local\ASP.NET\DataProtection-Keys\key-11bf2258-4bb4-4867-a1da-37ae292eaa57.xml'.
2024-09-29 21:12:11.989 +03:00 [DBG] Found key {11bf2258-4bb4-4867-a1da-37ae292eaa57}.
2024-09-29 21:12:12.003 +03:00 [DBG] Considering key {11bf2258-4bb4-4867-a1da-37ae292eaa57} with expiration date 2024-12-28 09:56:22Z as default key.
2024-09-29 21:12:12.008 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:12:12.010 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 21:12:12.013 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:12:12.016 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 21:12:12.018 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 21:12:12.020 +03:00 [DBG] Using key {11bf2258-4bb4-4867-a1da-37ae292eaa57} as the default key.
2024-09-29 21:12:12.022 +03:00 [DBG] Key ring with default key {11bf2258-4bb4-4867-a1da-37ae292eaa57} was loaded during application startup.
2024-09-29 21:12:12.233 +03:00 [INF] Now listening on: https://localhost:7223
2024-09-29 21:12:12.234 +03:00 [INF] Now listening on: http://localhost:5074
2024-09-29 21:12:12.235 +03:00 [DBG] Loaded hosting startup assembly ItMarathon.Api
2024-09-29 21:12:12.236 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-29 21:12:12.236 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 21:12:12.237 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 21:12:12.308 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 21:12:12.309 +03:00 [INF] Hosting environment: Development
2024-09-29 21:12:12.311 +03:00 [INF] Content root path: C:\it-marathon-v4-net-workshop\it-marathon-v4-net-workshop\ItMarathon\ItMarathon.Api
2024-09-29 21:12:12.312 +03:00 [DBG] Hosting started
2024-09-29 21:12:12.612 +03:00 [DBG] Connection id "0HN70M8UTFHE0" accepted.
2024-09-29 21:12:12.616 +03:00 [DBG] Connection id "0HN70M8UTFHE1" accepted.
2024-09-29 21:12:12.617 +03:00 [DBG] Connection id "0HN70M8UTFHE0" started.
2024-09-29 21:12:12.622 +03:00 [DBG] Connection id "0HN70M8UTFHE1" started.
2024-09-29 21:12:12.623 +03:00 [DBG] Connection id "0HN70M8UTFHE1" received FIN.
2024-09-29 21:12:12.623 +03:00 [DBG] Connection id "0HN70M8UTFHE0" received FIN.
2024-09-29 21:12:12.640 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:12:12.640 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:12:12.669 +03:00 [DBG] Connection id "0HN70M8UTFHE1" stopped.
2024-09-29 21:12:12.669 +03:00 [DBG] Connection id "0HN70M8UTFHE0" stopped.
2024-09-29 21:12:12.673 +03:00 [DBG] Connection id "0HN70M8UTFHE0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:12:12.673 +03:00 [DBG] Connection id "0HN70M8UTFHE1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:12:12.735 +03:00 [DBG] Connection id "0HN70M8UTFHE2" accepted.
2024-09-29 21:12:12.736 +03:00 [DBG] Connection id "0HN70M8UTFHE2" started.
2024-09-29 21:12:12.841 +03:00 [DBG] Connection 0HN70M8UTFHE2 established using the following protocol: "Tls13"
2024-09-29 21:12:12.954 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2024-09-29 21:12:13.088 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 21:12:13.114 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-29 21:12:13.116 +03:00 [DBG] Request did not match any endpoints
2024-09-29 21:12:13.204 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-29 21:12:13.208 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 21:12:13.238 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-29 21:12:13.242 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2024-09-29 21:12:13.242 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2024-09-29 21:12:13.242 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 21:12:13.257 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 313.5961ms
2024-09-29 21:12:13.270 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 28.5857ms
2024-09-29 21:12:13.313 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.9002ms
2024-09-29 21:12:13.362 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2024-09-29 21:12:13.365 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-29 21:12:13.366 +03:00 [DBG] Request did not match any endpoints
2024-09-29 21:12:13.572 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 210.2463ms
2024-09-29 21:12:15.322 +03:00 [DBG] Connection id "0HN70M8UTFHE2" received FIN.
2024-09-29 21:12:15.327 +03:00 [DBG] Connection id "0HN70M8UTFHE2" is closed. The last processed stream ID was 7.
2024-09-29 21:12:15.328 +03:00 [DBG] The connection queue processing loop for 0HN70M8UTFHE2 completed.
2024-09-29 21:12:15.329 +03:00 [DBG] Connection id "0HN70M8UTFHE2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:12:15.337 +03:00 [DBG] Connection id "0HN70M8UTFHE2" stopped.
2024-09-29 21:16:12.023 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 21:16:12.391 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 21:16:13.168 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:16:13.182 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:16:13.192 +03:00 [DBG] Created DbConnection. (7ms).
2024-09-29 21:16:13.215 +03:00 [DBG] Migrating using database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.227 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:16:13.228 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-29 21:16:13.232 +03:00 [DBG] Opening connection to database '' on server 'localhost'.
2024-09-29 21:16:13.469 +03:00 [DBG] Opened connection to database '' on server 'localhost'.
2024-09-29 21:16:13.534 +03:00 [DBG] Disposing connection to database '' on server 'localhost'.
2024-09-29 21:16:13.541 +03:00 [DBG] Disposed connection to database '' on server 'localhost' (3ms).
2024-09-29 21:16:13.549 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-29 21:16:13.556 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-09-29 21:16:13.558 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-09-29 21:16:13.559 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.600 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.608 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 21:16:13.644 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 21:16:13.650 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.658 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (7ms).
2024-09-29 21:16:13.661 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:16:13.662 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:16:13.663 +03:00 [DBG] Opening connection to database '' on server 'localhost'.
2024-09-29 21:16:13.697 +03:00 [DBG] Opened connection to database '' on server 'localhost'.
2024-09-29 21:16:13.704 +03:00 [DBG] Disposing connection to database '' on server 'localhost'.
2024-09-29 21:16:13.705 +03:00 [DBG] Disposed connection to database '' on server 'localhost' (1ms).
2024-09-29 21:16:13.707 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-29 21:16:13.708 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-29 21:16:13.709 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-09-29 21:16:13.710 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.718 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.720 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 21:16:13.726 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='ItMarathonDb' AND TABLE_NAME='__EFMigrationsHistory';
2024-09-29 21:16:13.729 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.730 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:16:13.752 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.756 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.758 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:16:13.760 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:16:13.761 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:16:13.763 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-09-29 21:16:13.775 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2024-09-29 21:16:13.783 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.792 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 13ms reading results.
2024-09-29 21:16:13.794 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.795 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:16:13.813 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-09-29 21:16:13.820 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:16:13.823 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:13.824 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:16:13.828 +03:00 [DBG] Hosting starting
2024-09-29 21:16:14.003 +03:00 [INF] User profile is available. Using 'C:\Users\siros\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 21:16:14.014 +03:00 [DBG] Reading data from file 'C:\Users\siros\AppData\Local\ASP.NET\DataProtection-Keys\key-11bf2258-4bb4-4867-a1da-37ae292eaa57.xml'.
2024-09-29 21:16:14.080 +03:00 [DBG] Found key {11bf2258-4bb4-4867-a1da-37ae292eaa57}.
2024-09-29 21:16:14.098 +03:00 [DBG] Considering key {11bf2258-4bb4-4867-a1da-37ae292eaa57} with expiration date 2024-12-28 09:56:22Z as default key.
2024-09-29 21:16:14.106 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:16:14.108 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 21:16:14.112 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:16:14.120 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 21:16:14.123 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 21:16:14.127 +03:00 [DBG] Using key {11bf2258-4bb4-4867-a1da-37ae292eaa57} as the default key.
2024-09-29 21:16:14.130 +03:00 [DBG] Key ring with default key {11bf2258-4bb4-4867-a1da-37ae292eaa57} was loaded during application startup.
2024-09-29 21:16:14.374 +03:00 [INF] Now listening on: https://localhost:7223
2024-09-29 21:16:14.376 +03:00 [INF] Now listening on: http://localhost:5074
2024-09-29 21:16:14.377 +03:00 [DBG] Loaded hosting startup assembly ItMarathon.Api
2024-09-29 21:16:14.378 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-29 21:16:14.379 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 21:16:14.380 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 21:16:14.449 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 21:16:14.452 +03:00 [INF] Hosting environment: Development
2024-09-29 21:16:14.453 +03:00 [INF] Content root path: C:\it-marathon-v4-net-workshop\it-marathon-v4-net-workshop\ItMarathon\ItMarathon.Api
2024-09-29 21:16:14.454 +03:00 [DBG] Hosting started
2024-09-29 21:16:14.492 +03:00 [DBG] Connection id "0HN70MB707IT5" accepted.
2024-09-29 21:16:14.496 +03:00 [DBG] Connection id "0HN70MB707IT5" started.
2024-09-29 21:16:14.530 +03:00 [DBG] Connection id "0HN70MB707IT5" received FIN.
2024-09-29 21:16:14.530 +03:00 [DBG] Connection id "0HN70MB707IT6" received FIN.
2024-09-29 21:16:14.534 +03:00 [DBG] Connection id "0HN70MB707IT6" accepted.
2024-09-29 21:16:14.537 +03:00 [DBG] Connection id "0HN70MB707IT6" started.
2024-09-29 21:16:14.541 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:16:14.541 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:16:14.573 +03:00 [DBG] Connection id "0HN70MB707IT6" stopped.
2024-09-29 21:16:14.573 +03:00 [DBG] Connection id "0HN70MB707IT5" stopped.
2024-09-29 21:16:14.578 +03:00 [DBG] Connection id "0HN70MB707IT6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:16:14.578 +03:00 [DBG] Connection id "0HN70MB707IT5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:16:14.738 +03:00 [DBG] Connection id "0HN70MB707IT7" accepted.
2024-09-29 21:16:14.740 +03:00 [DBG] Connection id "0HN70MB707IT7" started.
2024-09-29 21:16:14.764 +03:00 [DBG] Connection 0HN70MB707IT7 established using the following protocol: "Tls13"
2024-09-29 21:16:14.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/index.html - null null
2024-09-29 21:16:15.060 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 21:16:15.084 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-29 21:16:15.086 +03:00 [DBG] Request did not match any endpoints
2024-09-29 21:16:15.193 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-29 21:16:15.195 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 21:16:15.229 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-29 21:16:15.231 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 21:16:15.238 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/index.html - 200 null text/html;charset=utf-8 322.2865ms
2024-09-29 21:16:15.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - null null
2024-09-29 21:16:15.258 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/_vs/browserLink - null null
2024-09-29 21:16:15.260 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.4063ms
2024-09-29 21:16:15.322 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.679ms
2024-09-29 21:16:15.393 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - null null
2024-09-29 21:16:15.397 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-29 21:16:15.399 +03:00 [DBG] Request did not match any endpoints
2024-09-29 21:16:15.646 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 253.3339ms
2024-09-29 21:16:15.724 +03:00 [DBG] Connection id "0HN70MB707IT7" received FIN.
2024-09-29 21:16:15.727 +03:00 [DBG] Connection id "0HN70MB707IT7" is closed. The last processed stream ID was 7.
2024-09-29 21:16:15.728 +03:00 [DBG] The connection queue processing loop for 0HN70MB707IT7 completed.
2024-09-29 21:16:15.730 +03:00 [DBG] Connection id "0HN70MB707IT7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:16:15.738 +03:00 [DBG] Connection id "0HN70MB707IT7" stopped.
2024-09-29 21:16:43.112 +03:00 [DBG] Connection id "0HN70MB707IT8" accepted.
2024-09-29 21:16:43.114 +03:00 [DBG] Connection id "0HN70MB707IT8" started.
2024-09-29 21:16:43.124 +03:00 [DBG] Connection 0HN70MB707IT8 established using the following protocol: "Tls13"
2024-09-29 21:16:43.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24top=3 - null null
2024-09-29 21:16:43.141 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:16:43.144 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:16:43.147 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:16:43.152 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:16:43.169 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:16:43.175 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:16:43.214 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:16:43.218 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:16:43.220 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:16:43.222 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:16:43.224 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:16:43.225 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:16:43.230 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:16:43.343 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:16:43.369 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:16:43.372 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:16:43.375 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:16:43.377 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:16:43.378 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:16:43.384 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:16:43.387 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:16:43.389 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:16:43.392 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:16:43.393 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:16:43.395 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:16:43.396 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:16:43.398 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:16:43.400 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:16:43.402 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:16:43.404 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:16:43.406 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:16:43.407 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:16:43.409 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:16:43.411 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:16:43.412 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:16:43.414 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:16:43.415 +03:00 [DBG] Could not find a value in the request with name '$orderby' for binding parameter 'orderby' of type 'System.String'.
2024-09-29 21:16:43.417 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:16:43.418 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:16:43.420 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:16:43.421 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:16:44.399 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:16:44.656 +03:00 [DBG] Compiling query expression: 
'DbSet<Proposal>()
    .AsNoTracking()
    .OrderBy($it => $it.Id)
    .Take(__TypedProperty_0)
    .Include(p => p.AppUser)
    .Include(p => p.Photos)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PropertyDefinition)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PredefinedValue)
    .ThenInclude(prop => prop.ParentPropertyValue)'
2024-09-29 21:16:44.879 +03:00 [DBG] Including navigation: 'Proposal.AppUser'.
2024-09-29 21:16:44.882 +03:00 [DBG] Including navigation: 'Proposal.Photos'.
2024-09-29 21:16:44.884 +03:00 [DBG] Including navigation: 'Proposal.Properties'.
2024-09-29 21:16:44.888 +03:00 [DBG] Including navigation: 'Property.PropertyDefinition'.
2024-09-29 21:16:44.891 +03:00 [DBG] Including navigation: 'Property.PredefinedValue'.
2024-09-29 21:16:44.893 +03:00 [DBG] Including navigation: 'PropertyValue.ParentPropertyValue'.
2024-09-29 21:16:45.258 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-29 21:16:45.273 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Proposal>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Proposal.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Proposal.Age (int) Required, 1], [Property: Proposal.AgeUnits (int) Required, 2], [Property: Proposal.AppUserId (long) Required FK Index, 3], [Property: Proposal.CreatedOn (DateTime) Required, 4], [Property: Proposal.IsActive (bool) Required, 5], [Property: Proposal.LastModifiedOn (DateTime?), 6], [Property: Proposal.Location (string) Required Index MaxLength(50), 7], [Property: Proposal.PetName (string) MaxLength(50), 8], [Property: Proposal.PetOrigin (PetOrigin) Required, 9], [Property: Proposal.Price (decimal) Required Index, 10], [Property: Proposal.Summary (string) MaxLength(1500), 11], [Property: Proposal.Title (string) Required MaxLength(150), 12] }
            1 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: AppUser.CreatedOn (DateTime) Required, 14], [Property: AppUser.Email (string) Required Index MaxLength(320), 15], [Property: AppUser.HashedPassword (string) Required MaxLength(1024), 16], [Property: AppUser.IsActive (bool) Required, 17], [Property: AppUser.IsSuperuser (bool) Required, 18], [Property: AppUser.IsVerified (bool) Required, 19], [Property: AppUser.LastModifiedOn (DateTime) Required, 20], [Property: AppUser.Location (string) Required MaxLength(120), 21], [Property: AppUser.Name (string) Required MaxLength(50), 22], [Property: AppUser.PhoneNumber (string) MaxLength(15), 23], [Property: AppUser.PrefersPhoneCall (bool) Required, 24], [Property: AppUser.PrefersTelegram (bool) Required, 25], [Property: AppUser.Surname (string) Required MaxLength(50), 26] }
            2 -> 0
            3 -> 13
            4 -> Dictionary<IProperty, int> { [Property: ProposalPhoto.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: ProposalPhoto.CreatedOn (DateTime) Required, 28], [Property: ProposalPhoto.LastModifiedOn (DateTime?), 29], [Property: ProposalPhoto.ProposalId (long) Required FK Index, 30], [Property: ProposalPhoto.Url (string) Required MaxLength(2048), 31] }
            5 -> 27
            6 -> Dictionary<IProperty, int> { [Property: Property.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Property.CreatedOn (DateTime) Required, 33], [Property: Property.CustomValue (string) Index MaxLength(100), 34], [Property: Property.LastModifiedOn (DateTime?), 35], [Property: Property.PredefinedValueId (long?) FK Index, 36], [Property: Property.PropertyDefinitionId (long) Required FK Index, 37], [Property: Property.ProposalId (long?) FK Index, 38], [Property: Property.RequestId (long?) FK Index, 39] }
            7 -> Dictionary<IProperty, int> { [Property: PropertyDefinition.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: PropertyDefinition.Category (string) MaxLength(50), 41], [Property: PropertyDefinition.CreatedOn (DateTime) Required, 42], [Property: PropertyDefinition.IsMandatory (bool) Required, 43], [Property: PropertyDefinition.LastModifiedOn (DateTime?), 44], [Property: PropertyDefinition.Name (string) Required Index MaxLength(50), 45], [Property: PropertyDefinition.PropertyDefinitionType (PropertyDefinitionType) Required, 46] }
            8 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 47], [Property: PropertyValue.CreatedOn (DateTime) Required, 48], [Property: PropertyValue.LastModifiedOn (DateTime?), 49], [Property: PropertyValue.ParentId (long?) FK Index, 50], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 51], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 52] }
            9 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 53], [Property: PropertyValue.CreatedOn (DateTime) Required, 54], [Property: PropertyValue.LastModifiedOn (DateTime?), 55], [Property: PropertyValue.ParentId (long?) FK Index, 56], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 57], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 58] }
            10 -> 32
            11 -> 40
            12 -> 47
            13 -> 53
        SELECT t.Id, t.Age, t.AgeUnits, t.AppUserId, t.CreatedOn, t.IsActive, t.LastModifiedOn, t.Location, t.PetName, t.PetOrigin, t.Price, t.Summary, t.Title, u.id, u.created_on, u.email, u.hashed_password, u.is_active, u.is_superuser, u.is_verified, u.last_modified_on, u.location, u.name, u.phone_number, u.prefers_phone_call, u.prefers_telegram, u.surname, p0.Id, p0.CreatedOn, p0.LastModifiedOn, p0.ProposalId, p0.Url, t0.Id, t0.CreatedOn, t0.CustomValue, t0.LastModifiedOn, t0.PredefinedValueId, t0.PropertyDefinitionId, t0.ProposalId, t0.RequestId, t0.Id0, t0.Category, t0.CreatedOn0, t0.IsMandatory, t0.LastModifiedOn0, t0.Name, t0.PropertyDefinitionType, t0.Id1, t0.CreatedOn1, t0.LastModifiedOn1, t0.ParentId, t0.PropertyDefinitionId0, t0.Value, t0.Id2, t0.CreatedOn2, t0.LastModifiedOn2, t0.ParentId0, t0.PropertyDefinitionId1, t0.Value0
        FROM 
        (
            SELECT TOP(@__TypedProperty_0) p.Id, p.Age, p.AgeUnits, p.AppUserId, p.CreatedOn, p.IsActive, p.LastModifiedOn, p.Location, p.PetName, p.PetOrigin, p.Price, p.Summary, p.Title
            FROM Proposals AS p
            ORDER BY p.Id ASC
        ) AS t
        INNER JOIN users AS u ON t.AppUserId == u.id
        LEFT JOIN ProposalsPhoto AS p0 ON t.Id == p0.ProposalId
        LEFT JOIN 
        (
            SELECT p1.Id, p1.CreatedOn, p1.CustomValue, p1.LastModifiedOn, p1.PredefinedValueId, p1.PropertyDefinitionId, p1.ProposalId, p1.RequestId, p2.Id AS Id0, p2.Category, p2.CreatedOn AS CreatedOn0, p2.IsMandatory, p2.LastModifiedOn AS LastModifiedOn0, p2.Name, p2.PropertyDefinitionType, p3.Id AS Id1, p3.CreatedOn AS CreatedOn1, p3.LastModifiedOn AS LastModifiedOn1, p3.ParentId, p3.PropertyDefinitionId AS PropertyDefinitionId0, p3.Value, p4.Id AS Id2, p4.CreatedOn AS CreatedOn2, p4.LastModifiedOn AS LastModifiedOn2, p4.ParentId AS ParentId0, p4.PropertyDefinitionId AS PropertyDefinitionId1, p4.Value AS Value0
            FROM Properties AS p1
            INNER JOIN PropertiesDefinition AS p2 ON p1.PropertyDefinitionId == p2.Id
            LEFT JOIN PropertyValues AS p3 ON p1.PredefinedValueId == p3.Id
            LEFT JOIN PropertyValues AS p4 ON p3.ParentId == p4.Id
        ) AS t0 ON t.Id == t0.ProposalId
        ORDER BY t.Id ASC, u.id ASC, p0.Id ASC, t0.Id ASC, t0.Id0 ASC, t0.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Proposal>, 
    ItMarathon.Dal.Context.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-09-29 21:16:45.304 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:16:45.306 +03:00 [DBG] Created DbConnection. (2ms).
2024-09-29 21:16:45.308 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:45.313 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:45.315 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:16:45.317 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:16:45.335 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-09-29 21:16:45.339 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:16:45.415 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:16:45.431 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:45.432 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 14ms reading results.
2024-09-29 21:16:45.436 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:45.437 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:16:45.465 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:16:45.470 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:16:45.474 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:16:45.476 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:16:45.519 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 2288.6403ms
2024-09-29 21:16:45.521 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:16:45.523 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:16:45.526 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:16:45.528 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (2ms).
2024-09-29 21:16:45.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24top=3 - 200 null application/json; charset=utf-8 2401.8053ms
2024-09-29 21:16:50.737 +03:00 [DBG] Connection id "0HN70MB707IT8" received FIN.
2024-09-29 21:16:50.739 +03:00 [DBG] Connection id "0HN70MB707IT8" is closed. The last processed stream ID was 1.
2024-09-29 21:16:50.739 +03:00 [DBG] The connection queue processing loop for 0HN70MB707IT8 completed.
2024-09-29 21:16:50.740 +03:00 [DBG] Connection id "0HN70MB707IT8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:16:50.752 +03:00 [DBG] Connection id "0HN70MB707IT8" stopped.
2024-09-29 21:17:01.960 +03:00 [DBG] Connection id "0HN70MB707IT9" accepted.
2024-09-29 21:17:01.961 +03:00 [DBG] Connection id "0HN70MB707IT9" started.
2024-09-29 21:17:01.967 +03:00 [DBG] Connection 0HN70MB707IT9 established using the following protocol: "Tls13"
2024-09-29 21:17:01.971 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24top=2 - null null
2024-09-29 21:17:01.975 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:17:01.977 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:17:01.979 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:17:01.980 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:17:01.984 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:17:01.986 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:17:01.988 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:17:01.990 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:17:01.992 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:17:01.994 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:17:01.995 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:17:01.997 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:17:01.998 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:17:02.001 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:17:02.003 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:02.004 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:17:02.006 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:02.007 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:02.009 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:02.010 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:02.011 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:02.012 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:17:02.014 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:02.015 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:02.017 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:02.019 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:02.020 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:02.021 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:17:02.022 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:17:02.023 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:17:02.024 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:17:02.026 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:17:02.027 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:17:02.028 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:17:02.029 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:17:02.030 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:17:02.031 +03:00 [DBG] Could not find a value in the request with name '$orderby' for binding parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:02.032 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:02.034 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:02.035 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:17:02.036 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:02.076 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:17:02.082 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:17:02.083 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:17:02.084 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:02.088 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:02.090 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:17:02.091 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:17:02.092 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:17:02.093 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:17:02.109 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:17:02.113 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:02.114 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:17:02.115 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:02.116 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:17:02.118 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:17:02.119 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:17:02.121 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:17:02.122 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:17:02.123 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 125.4066ms
2024-09-29 21:17:02.125 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:17:02.126 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:17:02.127 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:02.128 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:17:02.129 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24top=2 - 200 null application/json; charset=utf-8 158.9243ms
2024-09-29 21:17:10.767 +03:00 [DBG] Connection id "0HN70MB707IT9" received FIN.
2024-09-29 21:17:10.768 +03:00 [DBG] Connection id "0HN70MB707IT9" is closed. The last processed stream ID was 1.
2024-09-29 21:17:10.768 +03:00 [DBG] The connection queue processing loop for 0HN70MB707IT9 completed.
2024-09-29 21:17:10.770 +03:00 [DBG] Connection id "0HN70MB707IT9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:17:10.786 +03:00 [DBG] Connection id "0HN70MB707IT9" stopped.
2024-09-29 21:17:21.816 +03:00 [DBG] Connection id "0HN70MB707ITA" accepted.
2024-09-29 21:17:21.817 +03:00 [DBG] Connection id "0HN70MB707ITA" started.
2024-09-29 21:17:21.822 +03:00 [DBG] Connection 0HN70MB707ITA established using the following protocol: "Tls13"
2024-09-29 21:17:21.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=Price%20asc - null null
2024-09-29 21:17:21.828 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:17:21.829 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:17:21.830 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:17:21.831 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:17:21.836 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:17:21.837 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:17:21.838 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:17:21.840 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:17:21.841 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:17:21.843 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:17:21.844 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:17:21.845 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:17:21.846 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:17:21.849 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:17:21.850 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:21.852 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:17:21.853 +03:00 [DBG] Could not find a value in the request with name '$top' for binding parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:21.855 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:21.856 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:21.857 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:21.857 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:21.858 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:21.859 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:17:21.860 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:21.861 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:21.862 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:21.863 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:21.864 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:21.865 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:17:21.868 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:17:21.869 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:17:21.871 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:17:21.872 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:17:21.873 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:17:21.874 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:17:21.875 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:17:21.876 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:17:21.877 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:21.878 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:21.879 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:17:21.881 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:21.884 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:17:21.890 +03:00 [DBG] Compiling query expression: 
'DbSet<Proposal>()
    .AsNoTracking()
    .OrderBy($it => $it.Price)
    .Include(p => p.AppUser)
    .Include(p => p.Photos)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PropertyDefinition)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PredefinedValue)
    .ThenInclude(prop => prop.ParentPropertyValue)'
2024-09-29 21:17:21.893 +03:00 [DBG] Including navigation: 'Proposal.AppUser'.
2024-09-29 21:17:21.894 +03:00 [DBG] Including navigation: 'Proposal.Photos'.
2024-09-29 21:17:21.895 +03:00 [DBG] Including navigation: 'Proposal.Properties'.
2024-09-29 21:17:21.897 +03:00 [DBG] Including navigation: 'Property.PropertyDefinition'.
2024-09-29 21:17:21.898 +03:00 [DBG] Including navigation: 'Property.PredefinedValue'.
2024-09-29 21:17:21.900 +03:00 [DBG] Including navigation: 'PropertyValue.ParentPropertyValue'.
2024-09-29 21:17:21.915 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-29 21:17:21.920 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Proposal>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Proposal.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Proposal.Age (int) Required, 1], [Property: Proposal.AgeUnits (int) Required, 2], [Property: Proposal.AppUserId (long) Required FK Index, 3], [Property: Proposal.CreatedOn (DateTime) Required, 4], [Property: Proposal.IsActive (bool) Required, 5], [Property: Proposal.LastModifiedOn (DateTime?), 6], [Property: Proposal.Location (string) Required Index MaxLength(50), 7], [Property: Proposal.PetName (string) MaxLength(50), 8], [Property: Proposal.PetOrigin (PetOrigin) Required, 9], [Property: Proposal.Price (decimal) Required Index, 10], [Property: Proposal.Summary (string) MaxLength(1500), 11], [Property: Proposal.Title (string) Required MaxLength(150), 12] }
            1 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: AppUser.CreatedOn (DateTime) Required, 14], [Property: AppUser.Email (string) Required Index MaxLength(320), 15], [Property: AppUser.HashedPassword (string) Required MaxLength(1024), 16], [Property: AppUser.IsActive (bool) Required, 17], [Property: AppUser.IsSuperuser (bool) Required, 18], [Property: AppUser.IsVerified (bool) Required, 19], [Property: AppUser.LastModifiedOn (DateTime) Required, 20], [Property: AppUser.Location (string) Required MaxLength(120), 21], [Property: AppUser.Name (string) Required MaxLength(50), 22], [Property: AppUser.PhoneNumber (string) MaxLength(15), 23], [Property: AppUser.PrefersPhoneCall (bool) Required, 24], [Property: AppUser.PrefersTelegram (bool) Required, 25], [Property: AppUser.Surname (string) Required MaxLength(50), 26] }
            2 -> 0
            3 -> 13
            4 -> Dictionary<IProperty, int> { [Property: ProposalPhoto.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: ProposalPhoto.CreatedOn (DateTime) Required, 28], [Property: ProposalPhoto.LastModifiedOn (DateTime?), 29], [Property: ProposalPhoto.ProposalId (long) Required FK Index, 30], [Property: ProposalPhoto.Url (string) Required MaxLength(2048), 31] }
            5 -> 27
            6 -> Dictionary<IProperty, int> { [Property: Property.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Property.CreatedOn (DateTime) Required, 33], [Property: Property.CustomValue (string) Index MaxLength(100), 34], [Property: Property.LastModifiedOn (DateTime?), 35], [Property: Property.PredefinedValueId (long?) FK Index, 36], [Property: Property.PropertyDefinitionId (long) Required FK Index, 37], [Property: Property.ProposalId (long?) FK Index, 38], [Property: Property.RequestId (long?) FK Index, 39] }
            7 -> Dictionary<IProperty, int> { [Property: PropertyDefinition.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: PropertyDefinition.Category (string) MaxLength(50), 41], [Property: PropertyDefinition.CreatedOn (DateTime) Required, 42], [Property: PropertyDefinition.IsMandatory (bool) Required, 43], [Property: PropertyDefinition.LastModifiedOn (DateTime?), 44], [Property: PropertyDefinition.Name (string) Required Index MaxLength(50), 45], [Property: PropertyDefinition.PropertyDefinitionType (PropertyDefinitionType) Required, 46] }
            8 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 47], [Property: PropertyValue.CreatedOn (DateTime) Required, 48], [Property: PropertyValue.LastModifiedOn (DateTime?), 49], [Property: PropertyValue.ParentId (long?) FK Index, 50], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 51], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 52] }
            9 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 53], [Property: PropertyValue.CreatedOn (DateTime) Required, 54], [Property: PropertyValue.LastModifiedOn (DateTime?), 55], [Property: PropertyValue.ParentId (long?) FK Index, 56], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 57], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 58] }
            10 -> 32
            11 -> 40
            12 -> 47
            13 -> 53
        SELECT p.Id, p.Age, p.AgeUnits, p.AppUserId, p.CreatedOn, p.IsActive, p.LastModifiedOn, p.Location, p.PetName, p.PetOrigin, p.Price, p.Summary, p.Title, u.id, u.created_on, u.email, u.hashed_password, u.is_active, u.is_superuser, u.is_verified, u.last_modified_on, u.location, u.name, u.phone_number, u.prefers_phone_call, u.prefers_telegram, u.surname, p0.Id, p0.CreatedOn, p0.LastModifiedOn, p0.ProposalId, p0.Url, t.Id, t.CreatedOn, t.CustomValue, t.LastModifiedOn, t.PredefinedValueId, t.PropertyDefinitionId, t.ProposalId, t.RequestId, t.Id0, t.Category, t.CreatedOn0, t.IsMandatory, t.LastModifiedOn0, t.Name, t.PropertyDefinitionType, t.Id1, t.CreatedOn1, t.LastModifiedOn1, t.ParentId, t.PropertyDefinitionId0, t.Value, t.Id2, t.CreatedOn2, t.LastModifiedOn2, t.ParentId0, t.PropertyDefinitionId1, t.Value0
        FROM Proposals AS p
        INNER JOIN users AS u ON p.AppUserId == u.id
        LEFT JOIN ProposalsPhoto AS p0 ON p.Id == p0.ProposalId
        LEFT JOIN 
        (
            SELECT p1.Id, p1.CreatedOn, p1.CustomValue, p1.LastModifiedOn, p1.PredefinedValueId, p1.PropertyDefinitionId, p1.ProposalId, p1.RequestId, p2.Id AS Id0, p2.Category, p2.CreatedOn AS CreatedOn0, p2.IsMandatory, p2.LastModifiedOn AS LastModifiedOn0, p2.Name, p2.PropertyDefinitionType, p3.Id AS Id1, p3.CreatedOn AS CreatedOn1, p3.LastModifiedOn AS LastModifiedOn1, p3.ParentId, p3.PropertyDefinitionId AS PropertyDefinitionId0, p3.Value, p4.Id AS Id2, p4.CreatedOn AS CreatedOn2, p4.LastModifiedOn AS LastModifiedOn2, p4.ParentId AS ParentId0, p4.PropertyDefinitionId AS PropertyDefinitionId1, p4.Value AS Value0
            FROM Properties AS p1
            INNER JOIN PropertiesDefinition AS p2 ON p1.PropertyDefinitionId == p2.Id
            LEFT JOIN PropertyValues AS p3 ON p1.PredefinedValueId == p3.Id
            LEFT JOIN PropertyValues AS p4 ON p3.ParentId == p4.Id
        ) AS t ON p.Id == t.ProposalId
        ORDER BY p.Price ASC, p.Id ASC, u.id ASC, p0.Id ASC, t.Id ASC, t.Id0 ASC, t.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Proposal>, 
    ItMarathon.Dal.Context.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-09-29 21:17:21.924 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:17:21.925 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:17:21.926 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:21.931 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:21.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:17:21.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:17:21.935 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:17:21.936 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Price`, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:17:21.941 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Price`, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:17:21.944 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:21.945 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:17:21.947 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:21.948 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:17:21.950 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:17:21.952 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:17:21.953 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:17:21.955 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:17:21.956 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 109.7376ms
2024-09-29 21:17:21.958 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:17:21.959 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:17:21.960 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:21.962 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:17:21.963 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=Price%20asc - 200 null application/json; charset=utf-8 138.4959ms
2024-09-29 21:17:29.402 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=Price%20desc - null null
2024-09-29 21:17:29.405 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:17:29.407 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:17:29.408 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:17:29.410 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:17:29.411 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:17:29.412 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:17:29.413 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:17:29.414 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:17:29.416 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:17:29.418 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:17:29.419 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:17:29.421 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:17:29.423 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:17:29.424 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:17:29.425 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:29.426 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:17:29.427 +03:00 [DBG] Could not find a value in the request with name '$top' for binding parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:29.428 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:29.429 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:29.430 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:29.431 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:29.432 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:29.433 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:17:29.435 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:29.436 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:29.437 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:29.438 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:17:29.439 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:17:29.440 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:17:29.441 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:17:29.442 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:17:29.444 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:17:29.444 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:17:29.445 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:17:29.446 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:17:29.448 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:17:29.450 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:17:29.451 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:29.452 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:29.453 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:17:29.454 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:17:29.456 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:17:29.459 +03:00 [DBG] Compiling query expression: 
'DbSet<Proposal>()
    .AsNoTracking()
    .OrderByDescending($it => $it.Price)
    .Include(p => p.AppUser)
    .Include(p => p.Photos)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PropertyDefinition)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PredefinedValue)
    .ThenInclude(prop => prop.ParentPropertyValue)'
2024-09-29 21:17:29.461 +03:00 [DBG] Including navigation: 'Proposal.AppUser'.
2024-09-29 21:17:29.462 +03:00 [DBG] Including navigation: 'Proposal.Photos'.
2024-09-29 21:17:29.464 +03:00 [DBG] Including navigation: 'Proposal.Properties'.
2024-09-29 21:17:29.465 +03:00 [DBG] Including navigation: 'Property.PropertyDefinition'.
2024-09-29 21:17:29.467 +03:00 [DBG] Including navigation: 'Property.PredefinedValue'.
2024-09-29 21:17:29.468 +03:00 [DBG] Including navigation: 'PropertyValue.ParentPropertyValue'.
2024-09-29 21:17:29.491 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-29 21:17:29.496 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Proposal>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Proposal.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Proposal.Age (int) Required, 1], [Property: Proposal.AgeUnits (int) Required, 2], [Property: Proposal.AppUserId (long) Required FK Index, 3], [Property: Proposal.CreatedOn (DateTime) Required, 4], [Property: Proposal.IsActive (bool) Required, 5], [Property: Proposal.LastModifiedOn (DateTime?), 6], [Property: Proposal.Location (string) Required Index MaxLength(50), 7], [Property: Proposal.PetName (string) MaxLength(50), 8], [Property: Proposal.PetOrigin (PetOrigin) Required, 9], [Property: Proposal.Price (decimal) Required Index, 10], [Property: Proposal.Summary (string) MaxLength(1500), 11], [Property: Proposal.Title (string) Required MaxLength(150), 12] }
            1 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: AppUser.CreatedOn (DateTime) Required, 14], [Property: AppUser.Email (string) Required Index MaxLength(320), 15], [Property: AppUser.HashedPassword (string) Required MaxLength(1024), 16], [Property: AppUser.IsActive (bool) Required, 17], [Property: AppUser.IsSuperuser (bool) Required, 18], [Property: AppUser.IsVerified (bool) Required, 19], [Property: AppUser.LastModifiedOn (DateTime) Required, 20], [Property: AppUser.Location (string) Required MaxLength(120), 21], [Property: AppUser.Name (string) Required MaxLength(50), 22], [Property: AppUser.PhoneNumber (string) MaxLength(15), 23], [Property: AppUser.PrefersPhoneCall (bool) Required, 24], [Property: AppUser.PrefersTelegram (bool) Required, 25], [Property: AppUser.Surname (string) Required MaxLength(50), 26] }
            2 -> 0
            3 -> 13
            4 -> Dictionary<IProperty, int> { [Property: ProposalPhoto.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: ProposalPhoto.CreatedOn (DateTime) Required, 28], [Property: ProposalPhoto.LastModifiedOn (DateTime?), 29], [Property: ProposalPhoto.ProposalId (long) Required FK Index, 30], [Property: ProposalPhoto.Url (string) Required MaxLength(2048), 31] }
            5 -> 27
            6 -> Dictionary<IProperty, int> { [Property: Property.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Property.CreatedOn (DateTime) Required, 33], [Property: Property.CustomValue (string) Index MaxLength(100), 34], [Property: Property.LastModifiedOn (DateTime?), 35], [Property: Property.PredefinedValueId (long?) FK Index, 36], [Property: Property.PropertyDefinitionId (long) Required FK Index, 37], [Property: Property.ProposalId (long?) FK Index, 38], [Property: Property.RequestId (long?) FK Index, 39] }
            7 -> Dictionary<IProperty, int> { [Property: PropertyDefinition.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: PropertyDefinition.Category (string) MaxLength(50), 41], [Property: PropertyDefinition.CreatedOn (DateTime) Required, 42], [Property: PropertyDefinition.IsMandatory (bool) Required, 43], [Property: PropertyDefinition.LastModifiedOn (DateTime?), 44], [Property: PropertyDefinition.Name (string) Required Index MaxLength(50), 45], [Property: PropertyDefinition.PropertyDefinitionType (PropertyDefinitionType) Required, 46] }
            8 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 47], [Property: PropertyValue.CreatedOn (DateTime) Required, 48], [Property: PropertyValue.LastModifiedOn (DateTime?), 49], [Property: PropertyValue.ParentId (long?) FK Index, 50], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 51], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 52] }
            9 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 53], [Property: PropertyValue.CreatedOn (DateTime) Required, 54], [Property: PropertyValue.LastModifiedOn (DateTime?), 55], [Property: PropertyValue.ParentId (long?) FK Index, 56], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 57], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 58] }
            10 -> 32
            11 -> 40
            12 -> 47
            13 -> 53
        SELECT p.Id, p.Age, p.AgeUnits, p.AppUserId, p.CreatedOn, p.IsActive, p.LastModifiedOn, p.Location, p.PetName, p.PetOrigin, p.Price, p.Summary, p.Title, u.id, u.created_on, u.email, u.hashed_password, u.is_active, u.is_superuser, u.is_verified, u.last_modified_on, u.location, u.name, u.phone_number, u.prefers_phone_call, u.prefers_telegram, u.surname, p0.Id, p0.CreatedOn, p0.LastModifiedOn, p0.ProposalId, p0.Url, t.Id, t.CreatedOn, t.CustomValue, t.LastModifiedOn, t.PredefinedValueId, t.PropertyDefinitionId, t.ProposalId, t.RequestId, t.Id0, t.Category, t.CreatedOn0, t.IsMandatory, t.LastModifiedOn0, t.Name, t.PropertyDefinitionType, t.Id1, t.CreatedOn1, t.LastModifiedOn1, t.ParentId, t.PropertyDefinitionId0, t.Value, t.Id2, t.CreatedOn2, t.LastModifiedOn2, t.ParentId0, t.PropertyDefinitionId1, t.Value0
        FROM Proposals AS p
        INNER JOIN users AS u ON p.AppUserId == u.id
        LEFT JOIN ProposalsPhoto AS p0 ON p.Id == p0.ProposalId
        LEFT JOIN 
        (
            SELECT p1.Id, p1.CreatedOn, p1.CustomValue, p1.LastModifiedOn, p1.PredefinedValueId, p1.PropertyDefinitionId, p1.ProposalId, p1.RequestId, p2.Id AS Id0, p2.Category, p2.CreatedOn AS CreatedOn0, p2.IsMandatory, p2.LastModifiedOn AS LastModifiedOn0, p2.Name, p2.PropertyDefinitionType, p3.Id AS Id1, p3.CreatedOn AS CreatedOn1, p3.LastModifiedOn AS LastModifiedOn1, p3.ParentId, p3.PropertyDefinitionId AS PropertyDefinitionId0, p3.Value, p4.Id AS Id2, p4.CreatedOn AS CreatedOn2, p4.LastModifiedOn AS LastModifiedOn2, p4.ParentId AS ParentId0, p4.PropertyDefinitionId AS PropertyDefinitionId1, p4.Value AS Value0
            FROM Properties AS p1
            INNER JOIN PropertiesDefinition AS p2 ON p1.PropertyDefinitionId == p2.Id
            LEFT JOIN PropertyValues AS p3 ON p1.PredefinedValueId == p3.Id
            LEFT JOIN PropertyValues AS p4 ON p3.ParentId == p4.Id
        ) AS t ON p.Id == t.ProposalId
        ORDER BY p.Price DESC, p.Id ASC, u.id ASC, p0.Id ASC, t.Id ASC, t.Id0 ASC, t.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Proposal>, 
    ItMarathon.Dal.Context.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-09-29 21:17:29.500 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:17:29.501 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:17:29.502 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:29.507 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:29.509 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:17:29.510 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:17:29.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:17:29.513 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Price` DESC, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:17:29.519 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Price` DESC, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:17:29.523 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:29.524 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 2ms reading results.
2024-09-29 21:17:29.526 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:29.528 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:17:29.530 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:17:29.533 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:17:29.535 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:17:29.536 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:17:29.537 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 113.8525ms
2024-09-29 21:17:29.539 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:17:29.540 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:17:29.541 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:17:29.542 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:17:29.543 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=Price%20desc - 200 null application/json; charset=utf-8 141.204ms
2024-09-29 21:17:30.784 +03:00 [DBG] Connection id "0HN70MB707ITA" received FIN.
2024-09-29 21:17:30.786 +03:00 [DBG] Connection id "0HN70MB707ITA" is closed. The last processed stream ID was 3.
2024-09-29 21:17:30.786 +03:00 [DBG] The connection queue processing loop for 0HN70MB707ITA completed.
2024-09-29 21:17:30.788 +03:00 [DBG] Connection id "0HN70MB707ITA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:17:30.801 +03:00 [DBG] Connection id "0HN70MB707ITA" stopped.
2024-09-29 21:18:58.194 +03:00 [DBG] Connection id "0HN70MB707ITB" accepted.
2024-09-29 21:18:58.199 +03:00 [DBG] Connection id "0HN70MB707ITB" started.
2024-09-29 21:18:58.206 +03:00 [DBG] Connection 0HN70MB707ITB established using the following protocol: "Tls13"
2024-09-29 21:18:58.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=1&%24orderby=Price%20desc - null null
2024-09-29 21:18:58.220 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:18:58.221 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:18:58.223 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:18:58.224 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:18:58.225 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:18:58.227 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:18:58.228 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:18:58.231 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:18:58.232 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:18:58.234 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:18:58.235 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:18:58.236 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:18:58.238 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:18:58.239 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:18:58.240 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:18:58.241 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:18:58.242 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:18:58.243 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:18:58.244 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:18:58.246 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:18:58.248 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:18:58.249 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:18:58.250 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:18:58.251 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:18:58.252 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:18:58.254 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:18:58.256 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:18:58.257 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:18:58.258 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:18:58.259 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:18:58.260 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:18:58.261 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:18:58.263 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:18:58.264 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:18:58.265 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:18:58.266 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:18:58.267 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:18:58.268 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:18:58.269 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:18:58.271 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:18:58.276 +03:00 [DBG] Compiling query expression: 
'DbSet<Proposal>()
    .AsNoTracking()
    .OrderByDescending($it => $it.Price)
    .ThenBy($it => $it.Id)
    .Skip(__TypedProperty_0)
    .Take(__TypedProperty_1)
    .Include(p => p.AppUser)
    .Include(p => p.Photos)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PropertyDefinition)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PredefinedValue)
    .ThenInclude(prop => prop.ParentPropertyValue)'
2024-09-29 21:18:58.279 +03:00 [DBG] Including navigation: 'Proposal.AppUser'.
2024-09-29 21:18:58.281 +03:00 [DBG] Including navigation: 'Proposal.Photos'.
2024-09-29 21:18:58.282 +03:00 [DBG] Including navigation: 'Proposal.Properties'.
2024-09-29 21:18:58.283 +03:00 [DBG] Including navigation: 'Property.PropertyDefinition'.
2024-09-29 21:18:58.284 +03:00 [DBG] Including navigation: 'Property.PredefinedValue'.
2024-09-29 21:18:58.286 +03:00 [DBG] Including navigation: 'PropertyValue.ParentPropertyValue'.
2024-09-29 21:18:58.299 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-29 21:18:58.304 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Proposal>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Proposal.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Proposal.Age (int) Required, 1], [Property: Proposal.AgeUnits (int) Required, 2], [Property: Proposal.AppUserId (long) Required FK Index, 3], [Property: Proposal.CreatedOn (DateTime) Required, 4], [Property: Proposal.IsActive (bool) Required, 5], [Property: Proposal.LastModifiedOn (DateTime?), 6], [Property: Proposal.Location (string) Required Index MaxLength(50), 7], [Property: Proposal.PetName (string) MaxLength(50), 8], [Property: Proposal.PetOrigin (PetOrigin) Required, 9], [Property: Proposal.Price (decimal) Required Index, 10], [Property: Proposal.Summary (string) MaxLength(1500), 11], [Property: Proposal.Title (string) Required MaxLength(150), 12] }
            1 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: AppUser.CreatedOn (DateTime) Required, 14], [Property: AppUser.Email (string) Required Index MaxLength(320), 15], [Property: AppUser.HashedPassword (string) Required MaxLength(1024), 16], [Property: AppUser.IsActive (bool) Required, 17], [Property: AppUser.IsSuperuser (bool) Required, 18], [Property: AppUser.IsVerified (bool) Required, 19], [Property: AppUser.LastModifiedOn (DateTime) Required, 20], [Property: AppUser.Location (string) Required MaxLength(120), 21], [Property: AppUser.Name (string) Required MaxLength(50), 22], [Property: AppUser.PhoneNumber (string) MaxLength(15), 23], [Property: AppUser.PrefersPhoneCall (bool) Required, 24], [Property: AppUser.PrefersTelegram (bool) Required, 25], [Property: AppUser.Surname (string) Required MaxLength(50), 26] }
            2 -> 0
            3 -> 13
            4 -> Dictionary<IProperty, int> { [Property: ProposalPhoto.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: ProposalPhoto.CreatedOn (DateTime) Required, 28], [Property: ProposalPhoto.LastModifiedOn (DateTime?), 29], [Property: ProposalPhoto.ProposalId (long) Required FK Index, 30], [Property: ProposalPhoto.Url (string) Required MaxLength(2048), 31] }
            5 -> 27
            6 -> Dictionary<IProperty, int> { [Property: Property.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Property.CreatedOn (DateTime) Required, 33], [Property: Property.CustomValue (string) Index MaxLength(100), 34], [Property: Property.LastModifiedOn (DateTime?), 35], [Property: Property.PredefinedValueId (long?) FK Index, 36], [Property: Property.PropertyDefinitionId (long) Required FK Index, 37], [Property: Property.ProposalId (long?) FK Index, 38], [Property: Property.RequestId (long?) FK Index, 39] }
            7 -> Dictionary<IProperty, int> { [Property: PropertyDefinition.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: PropertyDefinition.Category (string) MaxLength(50), 41], [Property: PropertyDefinition.CreatedOn (DateTime) Required, 42], [Property: PropertyDefinition.IsMandatory (bool) Required, 43], [Property: PropertyDefinition.LastModifiedOn (DateTime?), 44], [Property: PropertyDefinition.Name (string) Required Index MaxLength(50), 45], [Property: PropertyDefinition.PropertyDefinitionType (PropertyDefinitionType) Required, 46] }
            8 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 47], [Property: PropertyValue.CreatedOn (DateTime) Required, 48], [Property: PropertyValue.LastModifiedOn (DateTime?), 49], [Property: PropertyValue.ParentId (long?) FK Index, 50], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 51], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 52] }
            9 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 53], [Property: PropertyValue.CreatedOn (DateTime) Required, 54], [Property: PropertyValue.LastModifiedOn (DateTime?), 55], [Property: PropertyValue.ParentId (long?) FK Index, 56], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 57], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 58] }
            10 -> 32
            11 -> 40
            12 -> 47
            13 -> 53
        SELECT t.Id, t.Age, t.AgeUnits, t.AppUserId, t.CreatedOn, t.IsActive, t.LastModifiedOn, t.Location, t.PetName, t.PetOrigin, t.Price, t.Summary, t.Title, u.id, u.created_on, u.email, u.hashed_password, u.is_active, u.is_superuser, u.is_verified, u.last_modified_on, u.location, u.name, u.phone_number, u.prefers_phone_call, u.prefers_telegram, u.surname, p0.Id, p0.CreatedOn, p0.LastModifiedOn, p0.ProposalId, p0.Url, t0.Id, t0.CreatedOn, t0.CustomValue, t0.LastModifiedOn, t0.PredefinedValueId, t0.PropertyDefinitionId, t0.ProposalId, t0.RequestId, t0.Id0, t0.Category, t0.CreatedOn0, t0.IsMandatory, t0.LastModifiedOn0, t0.Name, t0.PropertyDefinitionType, t0.Id1, t0.CreatedOn1, t0.LastModifiedOn1, t0.ParentId, t0.PropertyDefinitionId0, t0.Value, t0.Id2, t0.CreatedOn2, t0.LastModifiedOn2, t0.ParentId0, t0.PropertyDefinitionId1, t0.Value0
        FROM 
        (
            SELECT p.Id, p.Age, p.AgeUnits, p.AppUserId, p.CreatedOn, p.IsActive, p.LastModifiedOn, p.Location, p.PetName, p.PetOrigin, p.Price, p.Summary, p.Title
            FROM Proposals AS p
            ORDER BY p.Price DESC, p.Id ASC
            OFFSET @__TypedProperty_0 ROWS FETCH NEXT @__TypedProperty_1 ROWS ONLY
        ) AS t
        INNER JOIN users AS u ON t.AppUserId == u.id
        LEFT JOIN ProposalsPhoto AS p0 ON t.Id == p0.ProposalId
        LEFT JOIN 
        (
            SELECT p1.Id, p1.CreatedOn, p1.CustomValue, p1.LastModifiedOn, p1.PredefinedValueId, p1.PropertyDefinitionId, p1.ProposalId, p1.RequestId, p2.Id AS Id0, p2.Category, p2.CreatedOn AS CreatedOn0, p2.IsMandatory, p2.LastModifiedOn AS LastModifiedOn0, p2.Name, p2.PropertyDefinitionType, p3.Id AS Id1, p3.CreatedOn AS CreatedOn1, p3.LastModifiedOn AS LastModifiedOn1, p3.ParentId, p3.PropertyDefinitionId AS PropertyDefinitionId0, p3.Value, p4.Id AS Id2, p4.CreatedOn AS CreatedOn2, p4.LastModifiedOn AS LastModifiedOn2, p4.ParentId AS ParentId0, p4.PropertyDefinitionId AS PropertyDefinitionId1, p4.Value AS Value0
            FROM Properties AS p1
            INNER JOIN PropertiesDefinition AS p2 ON p1.PropertyDefinitionId == p2.Id
            LEFT JOIN PropertyValues AS p3 ON p1.PredefinedValueId == p3.Id
            LEFT JOIN PropertyValues AS p4 ON p3.ParentId == p4.Id
        ) AS t0 ON t.Id == t0.ProposalId
        ORDER BY t.Price DESC, t.Id ASC, u.id ASC, p0.Id ASC, t0.Id ASC, t0.Id0 ASC, t0.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Proposal>, 
    ItMarathon.Dal.Context.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-09-29 21:18:58.309 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:18:58.311 +03:00 [DBG] Created DbConnection. (2ms).
2024-09-29 21:18:58.312 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:18:58.318 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:18:58.320 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:18:58.321 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:18:58.323 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:18:58.325 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Price` DESC, `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Price` DESC, `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:18:58.337 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Price` DESC, `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Price` DESC, `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:18:58.340 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:18:58.341 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:18:58.342 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:18:58.343 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:18:58.345 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:18:58.348 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:18:58.350 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:18:58.351 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:18:58.352 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 114.1426ms
2024-09-29 21:18:58.353 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:18:58.354 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:18:58.356 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:18:58.357 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:18:58.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=1&%24orderby=Price%20desc - 200 null application/json; charset=utf-8 145.8408ms
2024-09-29 21:19:00.925 +03:00 [DBG] Connection id "0HN70MB707ITB" received FIN.
2024-09-29 21:19:00.927 +03:00 [DBG] Connection id "0HN70MB707ITB" is closed. The last processed stream ID was 1.
2024-09-29 21:19:00.927 +03:00 [DBG] The connection queue processing loop for 0HN70MB707ITB completed.
2024-09-29 21:19:00.929 +03:00 [DBG] Connection id "0HN70MB707ITB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:19:00.942 +03:00 [DBG] Connection id "0HN70MB707ITB" stopped.
2024-09-29 21:19:06.954 +03:00 [DBG] Connection id "0HN70MB707ITC" accepted.
2024-09-29 21:19:06.955 +03:00 [DBG] Connection id "0HN70MB707ITC" started.
2024-09-29 21:19:06.960 +03:00 [DBG] Connection 0HN70MB707ITC established using the following protocol: "Tls13"
2024-09-29 21:19:06.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=2&%24orderby=Price%20desc - null null
2024-09-29 21:19:06.966 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:19:06.967 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:19:06.969 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:06.971 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:19:06.972 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:19:06.973 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:06.974 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:19:06.976 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:19:06.978 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:19:06.980 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:19:06.982 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:19:06.984 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:19:06.985 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:06.986 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:06.987 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:06.989 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:19:06.991 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:06.992 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:06.994 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:06.996 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:06.999 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:07.000 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:19:07.002 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:07.003 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:07.003 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:07.004 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:07.006 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:07.008 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:19:07.009 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:19:07.011 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:07.013 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:07.014 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:07.015 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:19:07.016 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:07.017 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:19:07.019 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:07.020 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:07.021 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:07.023 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:07.025 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:19:07.030 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:19:07.032 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-29 21:19:07.033 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:07.037 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:07.040 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:19:07.041 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:19:07.042 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:19:07.043 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Price` DESC, `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Price` DESC, `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:07.051 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Price` DESC, `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Price` DESC, `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:07.055 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:07.056 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:19:07.058 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:07.059 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:19:07.061 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:19:07.064 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:19:07.066 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:19:07.067 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:19:07.069 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 84.4757ms
2024-09-29 21:19:07.071 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:07.073 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:19:07.074 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:07.076 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:19:07.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=2&%24orderby=Price%20desc - 200 null application/json; charset=utf-8 115.4902ms
2024-09-29 21:19:10.949 +03:00 [DBG] Connection id "0HN70MB707ITC" received FIN.
2024-09-29 21:19:10.951 +03:00 [DBG] Connection id "0HN70MB707ITC" is closed. The last processed stream ID was 1.
2024-09-29 21:19:10.951 +03:00 [DBG] The connection queue processing loop for 0HN70MB707ITC completed.
2024-09-29 21:19:10.953 +03:00 [DBG] Connection id "0HN70MB707ITC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:19:10.965 +03:00 [DBG] Connection id "0HN70MB707ITC" stopped.
2024-09-29 21:19:29.497 +03:00 [DBG] Connection id "0HN70MB707ITD" accepted.
2024-09-29 21:19:29.498 +03:00 [DBG] Connection id "0HN70MB707ITD" started.
2024-09-29 21:19:29.502 +03:00 [DBG] Connection 0HN70MB707ITD established using the following protocol: "Tls13"
2024-09-29 21:19:29.504 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=1&%24orderby=Price%20desc - null null
2024-09-29 21:19:29.511 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:19:29.512 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:19:29.513 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:29.514 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:19:29.515 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:19:29.516 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:29.517 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:19:29.518 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:19:29.519 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:19:29.520 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:19:29.521 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:19:29.522 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:19:29.524 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:29.525 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:29.527 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:29.528 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:19:29.529 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:29.530 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:29.531 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:29.533 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:29.534 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:29.536 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:19:29.537 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:29.538 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:29.539 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:29.540 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:29.541 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:29.543 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:19:29.545 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:19:29.546 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:29.548 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:29.549 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:29.550 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:19:29.551 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:29.552 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:19:29.553 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:29.554 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:29.556 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:29.557 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:29.558 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:19:29.560 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:19:29.561 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:19:29.562 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:29.566 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:29.569 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:19:29.570 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:19:29.571 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:19:29.572 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Price` DESC, `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Price` DESC, `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:29.578 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Price` DESC, `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Price` DESC, `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:29.581 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:29.582 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:19:29.583 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:29.584 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:19:29.585 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:19:29.588 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:19:29.590 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:19:29.591 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:19:29.592 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 67.9356ms
2024-09-29 21:19:29.593 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:29.594 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:19:29.595 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:29.597 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:19:29.598 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=1&%24orderby=Price%20desc - 200 null application/json; charset=utf-8 94.0851ms
2024-09-29 21:19:30.970 +03:00 [DBG] Connection id "0HN70MB707ITD" received FIN.
2024-09-29 21:19:30.971 +03:00 [DBG] Connection id "0HN70MB707ITD" is closed. The last processed stream ID was 1.
2024-09-29 21:19:30.971 +03:00 [DBG] The connection queue processing loop for 0HN70MB707ITD completed.
2024-09-29 21:19:30.973 +03:00 [DBG] Connection id "0HN70MB707ITD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:19:30.984 +03:00 [DBG] Connection id "0HN70MB707ITD" stopped.
2024-09-29 21:19:41.418 +03:00 [DBG] Connection id "0HN70MB707ITE" accepted.
2024-09-29 21:19:41.419 +03:00 [DBG] Connection id "0HN70MB707ITE" started.
2024-09-29 21:19:41.426 +03:00 [DBG] Connection 0HN70MB707ITE established using the following protocol: "Tls13"
2024-09-29 21:19:41.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=2&%24orderby=Price%20desc - null null
2024-09-29 21:19:41.433 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:19:41.434 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:19:41.436 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:41.437 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:19:41.438 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:19:41.439 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:41.440 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:19:41.442 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:19:41.443 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:19:41.444 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:19:41.446 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:19:41.448 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:19:41.450 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:41.451 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:41.452 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:41.453 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:19:41.455 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:41.456 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:41.457 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:41.458 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:41.459 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:41.460 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:19:41.462 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:41.463 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:41.464 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:41.465 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:41.467 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:41.468 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:19:41.469 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:19:41.471 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:41.472 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:41.474 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:41.475 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:19:41.475 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:41.477 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:19:41.479 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:41.481 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:41.482 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:41.483 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:41.485 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:19:41.489 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:19:41.490 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-29 21:19:41.492 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:41.497 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:41.500 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:19:41.501 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:19:41.502 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:19:41.502 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Price` DESC, `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Price` DESC, `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:41.507 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Price` DESC, `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Price` DESC, `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:41.510 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:41.512 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:19:41.513 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:41.514 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:19:41.516 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:19:41.518 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:19:41.520 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:19:41.521 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:19:41.522 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 72.5284ms
2024-09-29 21:19:41.524 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:41.525 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:19:41.526 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:41.527 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:19:41.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=2&%24orderby=Price%20desc - 200 null application/json; charset=utf-8 99.8275ms
2024-09-29 21:19:44.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=2 - null null
2024-09-29 21:19:44.781 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:19:44.782 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:19:44.784 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:44.785 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:19:44.786 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:19:44.787 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:44.788 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:19:44.790 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:19:44.791 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:19:44.792 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:19:44.793 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:19:44.796 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:19:44.797 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:44.799 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:44.800 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:44.801 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:19:44.802 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:44.804 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:44.805 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:44.806 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:44.807 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:44.808 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:19:44.809 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:44.810 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:44.811 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:44.813 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:44.814 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:44.814 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:19:44.816 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:19:44.817 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:44.818 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:44.819 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:44.820 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:19:44.822 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:44.824 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:19:44.826 +03:00 [DBG] Could not find a value in the request with name '$orderby' for binding parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:44.827 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:44.828 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:44.829 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:44.831 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:44.833 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:19:44.836 +03:00 [DBG] Compiling query expression: 
'DbSet<Proposal>()
    .AsNoTracking()
    .OrderBy($it => $it.Id)
    .Skip(__TypedProperty_0)
    .Take(__TypedProperty_1)
    .Include(p => p.AppUser)
    .Include(p => p.Photos)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PropertyDefinition)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PredefinedValue)
    .ThenInclude(prop => prop.ParentPropertyValue)'
2024-09-29 21:19:44.838 +03:00 [DBG] Including navigation: 'Proposal.AppUser'.
2024-09-29 21:19:44.839 +03:00 [DBG] Including navigation: 'Proposal.Photos'.
2024-09-29 21:19:44.840 +03:00 [DBG] Including navigation: 'Proposal.Properties'.
2024-09-29 21:19:44.841 +03:00 [DBG] Including navigation: 'Property.PropertyDefinition'.
2024-09-29 21:19:44.842 +03:00 [DBG] Including navigation: 'Property.PredefinedValue'.
2024-09-29 21:19:44.843 +03:00 [DBG] Including navigation: 'PropertyValue.ParentPropertyValue'.
2024-09-29 21:19:44.856 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-29 21:19:44.861 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Proposal>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Proposal.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Proposal.Age (int) Required, 1], [Property: Proposal.AgeUnits (int) Required, 2], [Property: Proposal.AppUserId (long) Required FK Index, 3], [Property: Proposal.CreatedOn (DateTime) Required, 4], [Property: Proposal.IsActive (bool) Required, 5], [Property: Proposal.LastModifiedOn (DateTime?), 6], [Property: Proposal.Location (string) Required Index MaxLength(50), 7], [Property: Proposal.PetName (string) MaxLength(50), 8], [Property: Proposal.PetOrigin (PetOrigin) Required, 9], [Property: Proposal.Price (decimal) Required Index, 10], [Property: Proposal.Summary (string) MaxLength(1500), 11], [Property: Proposal.Title (string) Required MaxLength(150), 12] }
            1 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: AppUser.CreatedOn (DateTime) Required, 14], [Property: AppUser.Email (string) Required Index MaxLength(320), 15], [Property: AppUser.HashedPassword (string) Required MaxLength(1024), 16], [Property: AppUser.IsActive (bool) Required, 17], [Property: AppUser.IsSuperuser (bool) Required, 18], [Property: AppUser.IsVerified (bool) Required, 19], [Property: AppUser.LastModifiedOn (DateTime) Required, 20], [Property: AppUser.Location (string) Required MaxLength(120), 21], [Property: AppUser.Name (string) Required MaxLength(50), 22], [Property: AppUser.PhoneNumber (string) MaxLength(15), 23], [Property: AppUser.PrefersPhoneCall (bool) Required, 24], [Property: AppUser.PrefersTelegram (bool) Required, 25], [Property: AppUser.Surname (string) Required MaxLength(50), 26] }
            2 -> 0
            3 -> 13
            4 -> Dictionary<IProperty, int> { [Property: ProposalPhoto.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: ProposalPhoto.CreatedOn (DateTime) Required, 28], [Property: ProposalPhoto.LastModifiedOn (DateTime?), 29], [Property: ProposalPhoto.ProposalId (long) Required FK Index, 30], [Property: ProposalPhoto.Url (string) Required MaxLength(2048), 31] }
            5 -> 27
            6 -> Dictionary<IProperty, int> { [Property: Property.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Property.CreatedOn (DateTime) Required, 33], [Property: Property.CustomValue (string) Index MaxLength(100), 34], [Property: Property.LastModifiedOn (DateTime?), 35], [Property: Property.PredefinedValueId (long?) FK Index, 36], [Property: Property.PropertyDefinitionId (long) Required FK Index, 37], [Property: Property.ProposalId (long?) FK Index, 38], [Property: Property.RequestId (long?) FK Index, 39] }
            7 -> Dictionary<IProperty, int> { [Property: PropertyDefinition.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: PropertyDefinition.Category (string) MaxLength(50), 41], [Property: PropertyDefinition.CreatedOn (DateTime) Required, 42], [Property: PropertyDefinition.IsMandatory (bool) Required, 43], [Property: PropertyDefinition.LastModifiedOn (DateTime?), 44], [Property: PropertyDefinition.Name (string) Required Index MaxLength(50), 45], [Property: PropertyDefinition.PropertyDefinitionType (PropertyDefinitionType) Required, 46] }
            8 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 47], [Property: PropertyValue.CreatedOn (DateTime) Required, 48], [Property: PropertyValue.LastModifiedOn (DateTime?), 49], [Property: PropertyValue.ParentId (long?) FK Index, 50], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 51], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 52] }
            9 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 53], [Property: PropertyValue.CreatedOn (DateTime) Required, 54], [Property: PropertyValue.LastModifiedOn (DateTime?), 55], [Property: PropertyValue.ParentId (long?) FK Index, 56], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 57], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 58] }
            10 -> 32
            11 -> 40
            12 -> 47
            13 -> 53
        SELECT t.Id, t.Age, t.AgeUnits, t.AppUserId, t.CreatedOn, t.IsActive, t.LastModifiedOn, t.Location, t.PetName, t.PetOrigin, t.Price, t.Summary, t.Title, u.id, u.created_on, u.email, u.hashed_password, u.is_active, u.is_superuser, u.is_verified, u.last_modified_on, u.location, u.name, u.phone_number, u.prefers_phone_call, u.prefers_telegram, u.surname, p0.Id, p0.CreatedOn, p0.LastModifiedOn, p0.ProposalId, p0.Url, t0.Id, t0.CreatedOn, t0.CustomValue, t0.LastModifiedOn, t0.PredefinedValueId, t0.PropertyDefinitionId, t0.ProposalId, t0.RequestId, t0.Id0, t0.Category, t0.CreatedOn0, t0.IsMandatory, t0.LastModifiedOn0, t0.Name, t0.PropertyDefinitionType, t0.Id1, t0.CreatedOn1, t0.LastModifiedOn1, t0.ParentId, t0.PropertyDefinitionId0, t0.Value, t0.Id2, t0.CreatedOn2, t0.LastModifiedOn2, t0.ParentId0, t0.PropertyDefinitionId1, t0.Value0
        FROM 
        (
            SELECT p.Id, p.Age, p.AgeUnits, p.AppUserId, p.CreatedOn, p.IsActive, p.LastModifiedOn, p.Location, p.PetName, p.PetOrigin, p.Price, p.Summary, p.Title
            FROM Proposals AS p
            ORDER BY p.Id ASC
            OFFSET @__TypedProperty_0 ROWS FETCH NEXT @__TypedProperty_1 ROWS ONLY
        ) AS t
        INNER JOIN users AS u ON t.AppUserId == u.id
        LEFT JOIN ProposalsPhoto AS p0 ON t.Id == p0.ProposalId
        LEFT JOIN 
        (
            SELECT p1.Id, p1.CreatedOn, p1.CustomValue, p1.LastModifiedOn, p1.PredefinedValueId, p1.PropertyDefinitionId, p1.ProposalId, p1.RequestId, p2.Id AS Id0, p2.Category, p2.CreatedOn AS CreatedOn0, p2.IsMandatory, p2.LastModifiedOn AS LastModifiedOn0, p2.Name, p2.PropertyDefinitionType, p3.Id AS Id1, p3.CreatedOn AS CreatedOn1, p3.LastModifiedOn AS LastModifiedOn1, p3.ParentId, p3.PropertyDefinitionId AS PropertyDefinitionId0, p3.Value, p4.Id AS Id2, p4.CreatedOn AS CreatedOn2, p4.LastModifiedOn AS LastModifiedOn2, p4.ParentId AS ParentId0, p4.PropertyDefinitionId AS PropertyDefinitionId1, p4.Value AS Value0
            FROM Properties AS p1
            INNER JOIN PropertiesDefinition AS p2 ON p1.PropertyDefinitionId == p2.Id
            LEFT JOIN PropertyValues AS p3 ON p1.PredefinedValueId == p3.Id
            LEFT JOIN PropertyValues AS p4 ON p3.ParentId == p4.Id
        ) AS t0 ON t.Id == t0.ProposalId
        ORDER BY t.Id ASC, u.id ASC, p0.Id ASC, t0.Id ASC, t0.Id0 ASC, t0.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Proposal>, 
    ItMarathon.Dal.Context.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-09-29 21:19:44.864 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:19:44.866 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-29 21:19:44.867 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:44.872 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:44.874 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:19:44.875 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:19:44.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:19:44.877 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:44.887 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:44.890 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:44.892 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 2ms reading results.
2024-09-29 21:19:44.893 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:44.894 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:19:44.897 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:19:44.899 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:19:44.901 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:19:44.903 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:19:44.904 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 106.4815ms
2024-09-29 21:19:44.905 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:44.906 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:19:44.907 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:44.908 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:19:44.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=2 - 200 null application/json; charset=utf-8 130.9536ms
2024-09-29 21:19:50.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=2 - null null
2024-09-29 21:19:50.450 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:19:50.451 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:19:50.452 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:50.453 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:19:50.454 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:19:50.455 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:50.456 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:19:50.458 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:19:50.459 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:19:50.461 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:19:50.463 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:19:50.464 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:19:50.466 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:50.467 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:19:50.469 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:50.470 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:19:50.472 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:50.473 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:50.474 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:50.475 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:50.476 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:50.477 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:19:50.479 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:50.481 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:50.482 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:19:50.483 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:19:50.484 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:50.485 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:19:50.486 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:19:50.488 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:50.489 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:19:50.490 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:19:50.491 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:19:50.492 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:50.493 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:19:50.494 +03:00 [DBG] Could not find a value in the request with name '$orderby' for binding parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:50.495 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:50.497 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:50.499 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:19:50.500 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:19:50.501 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:19:50.504 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:19:50.504 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:19:50.506 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:50.510 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:50.513 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:19:50.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:19:50.515 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:19:50.516 +03:00 [DBG] Executing DbCommand [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:50.521 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__TypedProperty_1='?' (DbType = Int32), @__TypedProperty_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Age`, `t`.`AgeUnits`, `t`.`AppUserId`, `t`.`CreatedOn`, `t`.`IsActive`, `t`.`LastModifiedOn`, `t`.`Location`, `t`.`PetName`, `t`.`PetOrigin`, `t`.`Price`, `t`.`Summary`, `t`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t0`.`Id`, `t0`.`CreatedOn`, `t0`.`CustomValue`, `t0`.`LastModifiedOn`, `t0`.`PredefinedValueId`, `t0`.`PropertyDefinitionId`, `t0`.`ProposalId`, `t0`.`RequestId`, `t0`.`Id0`, `t0`.`Category`, `t0`.`CreatedOn0`, `t0`.`IsMandatory`, `t0`.`LastModifiedOn0`, `t0`.`Name`, `t0`.`PropertyDefinitionType`, `t0`.`Id1`, `t0`.`CreatedOn1`, `t0`.`LastModifiedOn1`, `t0`.`ParentId`, `t0`.`PropertyDefinitionId0`, `t0`.`Value`, `t0`.`Id2`, `t0`.`CreatedOn2`, `t0`.`LastModifiedOn2`, `t0`.`ParentId0`, `t0`.`PropertyDefinitionId1`, `t0`.`Value0`
FROM (
    SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`
    FROM `Proposals` AS `p`
    ORDER BY `p`.`Id`
    LIMIT @__TypedProperty_1 OFFSET @__TypedProperty_0
) AS `t`
INNER JOIN `users` AS `u` ON `t`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `t`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`ProposalId`
ORDER BY `t`.`Id`, `u`.`id`, `p0`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2024-09-29 21:19:50.523 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:50.524 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:19:50.525 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:50.526 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:19:50.528 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:19:50.531 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:19:50.533 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:19:50.533 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:19:50.535 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 69.1502ms
2024-09-29 21:19:50.536 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:19:50.537 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:19:50.538 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:19:50.539 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:19:50.541 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24top=1&%24skip=2 - 200 null application/json; charset=utf-8 95.0929ms
2024-09-29 21:19:50.997 +03:00 [DBG] Connection id "0HN70MB707ITE" received FIN.
2024-09-29 21:19:50.999 +03:00 [DBG] Connection id "0HN70MB707ITE" is closed. The last processed stream ID was 5.
2024-09-29 21:19:50.999 +03:00 [DBG] The connection queue processing loop for 0HN70MB707ITE completed.
2024-09-29 21:19:51.001 +03:00 [DBG] Connection id "0HN70MB707ITE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:19:51.012 +03:00 [DBG] Connection id "0HN70MB707ITE" stopped.
2024-09-29 21:25:41.496 +03:00 [DBG] Connection id "0HN70MB707ITF" accepted.
2024-09-29 21:25:41.503 +03:00 [DBG] Connection id "0HN70MB707ITF" started.
2024-09-29 21:25:41.514 +03:00 [DBG] Connection 0HN70MB707ITF established using the following protocol: "Tls13"
2024-09-29 21:25:41.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=Title - null null
2024-09-29 21:25:41.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:25:41.531 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:25:41.533 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:25:41.534 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:25:41.536 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:25:41.537 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:25:41.538 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:25:41.540 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:25:41.540 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:25:41.542 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:25:41.543 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:25:41.544 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:25:41.545 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:25:41.546 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:25:41.547 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:25:41.549 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:25:41.551 +03:00 [DBG] Could not find a value in the request with name '$top' for binding parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:41.553 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:41.554 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:41.555 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:25:41.556 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:41.556 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:25:41.558 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:25:41.559 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:41.560 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:41.561 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:41.562 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:25:41.564 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:41.565 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:25:41.566 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:25:41.567 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:25:41.569 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:25:41.569 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:25:41.570 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:25:41.571 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:25:41.573 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:25:41.574 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:25:41.576 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:25:41.577 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:25:41.578 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:25:41.579 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:25:41.581 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:25:41.592 +03:00 [DBG] Compiling query expression: 
'DbSet<Proposal>()
    .AsNoTracking()
    .OrderBy($it => $it.Title)
    .Include(p => p.AppUser)
    .Include(p => p.Photos)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PropertyDefinition)
    .Include(p => p.Properties)
    .ThenInclude(properties => properties.PredefinedValue)
    .ThenInclude(prop => prop.ParentPropertyValue)'
2024-09-29 21:25:41.595 +03:00 [DBG] Including navigation: 'Proposal.AppUser'.
2024-09-29 21:25:41.596 +03:00 [DBG] Including navigation: 'Proposal.Photos'.
2024-09-29 21:25:41.597 +03:00 [DBG] Including navigation: 'Proposal.Properties'.
2024-09-29 21:25:41.598 +03:00 [DBG] Including navigation: 'Property.PropertyDefinition'.
2024-09-29 21:25:41.599 +03:00 [DBG] Including navigation: 'Property.PredefinedValue'.
2024-09-29 21:25:41.600 +03:00 [DBG] Including navigation: 'PropertyValue.ParentPropertyValue'.
2024-09-29 21:25:41.611 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-29 21:25:41.616 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Proposal>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Proposal.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Proposal.Age (int) Required, 1], [Property: Proposal.AgeUnits (int) Required, 2], [Property: Proposal.AppUserId (long) Required FK Index, 3], [Property: Proposal.CreatedOn (DateTime) Required, 4], [Property: Proposal.IsActive (bool) Required, 5], [Property: Proposal.LastModifiedOn (DateTime?), 6], [Property: Proposal.Location (string) Required Index MaxLength(50), 7], [Property: Proposal.PetName (string) MaxLength(50), 8], [Property: Proposal.PetOrigin (PetOrigin) Required, 9], [Property: Proposal.Price (decimal) Required Index, 10], [Property: Proposal.Summary (string) MaxLength(1500), 11], [Property: Proposal.Title (string) Required MaxLength(150), 12] }
            1 -> Dictionary<IProperty, int> { [Property: AppUser.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: AppUser.CreatedOn (DateTime) Required, 14], [Property: AppUser.Email (string) Required Index MaxLength(320), 15], [Property: AppUser.HashedPassword (string) Required MaxLength(1024), 16], [Property: AppUser.IsActive (bool) Required, 17], [Property: AppUser.IsSuperuser (bool) Required, 18], [Property: AppUser.IsVerified (bool) Required, 19], [Property: AppUser.LastModifiedOn (DateTime) Required, 20], [Property: AppUser.Location (string) Required MaxLength(120), 21], [Property: AppUser.Name (string) Required MaxLength(50), 22], [Property: AppUser.PhoneNumber (string) MaxLength(15), 23], [Property: AppUser.PrefersPhoneCall (bool) Required, 24], [Property: AppUser.PrefersTelegram (bool) Required, 25], [Property: AppUser.Surname (string) Required MaxLength(50), 26] }
            2 -> 0
            3 -> 13
            4 -> Dictionary<IProperty, int> { [Property: ProposalPhoto.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 27], [Property: ProposalPhoto.CreatedOn (DateTime) Required, 28], [Property: ProposalPhoto.LastModifiedOn (DateTime?), 29], [Property: ProposalPhoto.ProposalId (long) Required FK Index, 30], [Property: ProposalPhoto.Url (string) Required MaxLength(2048), 31] }
            5 -> 27
            6 -> Dictionary<IProperty, int> { [Property: Property.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Property.CreatedOn (DateTime) Required, 33], [Property: Property.CustomValue (string) Index MaxLength(100), 34], [Property: Property.LastModifiedOn (DateTime?), 35], [Property: Property.PredefinedValueId (long?) FK Index, 36], [Property: Property.PropertyDefinitionId (long) Required FK Index, 37], [Property: Property.ProposalId (long?) FK Index, 38], [Property: Property.RequestId (long?) FK Index, 39] }
            7 -> Dictionary<IProperty, int> { [Property: PropertyDefinition.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: PropertyDefinition.Category (string) MaxLength(50), 41], [Property: PropertyDefinition.CreatedOn (DateTime) Required, 42], [Property: PropertyDefinition.IsMandatory (bool) Required, 43], [Property: PropertyDefinition.LastModifiedOn (DateTime?), 44], [Property: PropertyDefinition.Name (string) Required Index MaxLength(50), 45], [Property: PropertyDefinition.PropertyDefinitionType (PropertyDefinitionType) Required, 46] }
            8 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 47], [Property: PropertyValue.CreatedOn (DateTime) Required, 48], [Property: PropertyValue.LastModifiedOn (DateTime?), 49], [Property: PropertyValue.ParentId (long?) FK Index, 50], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 51], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 52] }
            9 -> Dictionary<IProperty, int> { [Property: PropertyValue.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 53], [Property: PropertyValue.CreatedOn (DateTime) Required, 54], [Property: PropertyValue.LastModifiedOn (DateTime?), 55], [Property: PropertyValue.ParentId (long?) FK Index, 56], [Property: PropertyValue.PropertyDefinitionId (long) Required FK Index, 57], [Property: PropertyValue.Value (string) Required Index MaxLength(100), 58] }
            10 -> 32
            11 -> 40
            12 -> 47
            13 -> 53
        SELECT p.Id, p.Age, p.AgeUnits, p.AppUserId, p.CreatedOn, p.IsActive, p.LastModifiedOn, p.Location, p.PetName, p.PetOrigin, p.Price, p.Summary, p.Title, u.id, u.created_on, u.email, u.hashed_password, u.is_active, u.is_superuser, u.is_verified, u.last_modified_on, u.location, u.name, u.phone_number, u.prefers_phone_call, u.prefers_telegram, u.surname, p0.Id, p0.CreatedOn, p0.LastModifiedOn, p0.ProposalId, p0.Url, t.Id, t.CreatedOn, t.CustomValue, t.LastModifiedOn, t.PredefinedValueId, t.PropertyDefinitionId, t.ProposalId, t.RequestId, t.Id0, t.Category, t.CreatedOn0, t.IsMandatory, t.LastModifiedOn0, t.Name, t.PropertyDefinitionType, t.Id1, t.CreatedOn1, t.LastModifiedOn1, t.ParentId, t.PropertyDefinitionId0, t.Value, t.Id2, t.CreatedOn2, t.LastModifiedOn2, t.ParentId0, t.PropertyDefinitionId1, t.Value0
        FROM Proposals AS p
        INNER JOIN users AS u ON p.AppUserId == u.id
        LEFT JOIN ProposalsPhoto AS p0 ON p.Id == p0.ProposalId
        LEFT JOIN 
        (
            SELECT p1.Id, p1.CreatedOn, p1.CustomValue, p1.LastModifiedOn, p1.PredefinedValueId, p1.PropertyDefinitionId, p1.ProposalId, p1.RequestId, p2.Id AS Id0, p2.Category, p2.CreatedOn AS CreatedOn0, p2.IsMandatory, p2.LastModifiedOn AS LastModifiedOn0, p2.Name, p2.PropertyDefinitionType, p3.Id AS Id1, p3.CreatedOn AS CreatedOn1, p3.LastModifiedOn AS LastModifiedOn1, p3.ParentId, p3.PropertyDefinitionId AS PropertyDefinitionId0, p3.Value, p4.Id AS Id2, p4.CreatedOn AS CreatedOn2, p4.LastModifiedOn AS LastModifiedOn2, p4.ParentId AS ParentId0, p4.PropertyDefinitionId AS PropertyDefinitionId1, p4.Value AS Value0
            FROM Properties AS p1
            INNER JOIN PropertiesDefinition AS p2 ON p1.PropertyDefinitionId == p2.Id
            LEFT JOIN PropertyValues AS p3 ON p1.PredefinedValueId == p3.Id
            LEFT JOIN PropertyValues AS p4 ON p3.ParentId == p4.Id
        ) AS t ON p.Id == t.ProposalId
        ORDER BY p.Title ASC, p.Id ASC, u.id ASC, p0.Id ASC, t.Id ASC, t.Id0 ASC, t.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Proposal>, 
    ItMarathon.Dal.Context.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-09-29 21:25:41.620 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:25:41.621 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:25:41.622 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:41.653 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:41.654 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:25:41.655 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:25:41.656 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:25:41.657 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Title`, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:25:41.673 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Title`, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:25:41.676 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:41.677 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:25:41.678 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:41.680 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:25:41.682 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:25:41.684 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:25:41.686 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:25:41.688 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:25:41.689 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 144.3153ms
2024-09-29 21:25:41.690 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:25:41.691 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:25:41.692 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:41.693 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:25:41.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=Title - 200 null application/json; charset=utf-8 173.3481ms
2024-09-29 21:25:51.506 +03:00 [DBG] Connection id "0HN70MB707ITF" received FIN.
2024-09-29 21:25:51.509 +03:00 [DBG] Connection id "0HN70MB707ITF" is closed. The last processed stream ID was 1.
2024-09-29 21:25:51.509 +03:00 [DBG] The connection queue processing loop for 0HN70MB707ITF completed.
2024-09-29 21:25:51.510 +03:00 [DBG] Connection id "0HN70MB707ITF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:25:51.521 +03:00 [DBG] Connection id "0HN70MB707ITF" stopped.
2024-09-29 21:25:58.928 +03:00 [DBG] Connection id "0HN70MB707ITG" accepted.
2024-09-29 21:25:58.930 +03:00 [DBG] Connection id "0HN70MB707ITG" started.
2024-09-29 21:25:58.935 +03:00 [DBG] Connection 0HN70MB707ITG established using the following protocol: "Tls13"
2024-09-29 21:25:58.938 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=%20Title%20asc - null null
2024-09-29 21:25:58.941 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:25:58.942 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:25:58.943 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:25:58.944 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:25:58.945 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:25:58.945 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:25:58.946 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:25:58.949 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:25:58.950 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:25:58.952 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:25:58.953 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:25:58.954 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:25:58.956 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:25:58.957 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:25:58.958 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:25:58.959 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:25:58.960 +03:00 [DBG] Could not find a value in the request with name '$top' for binding parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:58.961 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:58.962 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:58.963 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:25:58.964 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:58.966 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:25:58.967 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:25:58.968 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:58.970 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:58.971 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:58.972 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:25:58.973 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:25:58.974 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:25:58.976 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:25:58.977 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:25:58.979 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:25:58.981 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:25:58.981 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:25:58.982 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:25:58.984 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:25:58.985 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:25:58.987 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:25:58.989 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:25:58.990 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:25:58.991 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:25:58.993 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:25:58.997 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:25:58.998 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:25:59.000 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:59.004 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:59.007 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:25:59.008 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:25:59.009 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:25:59.011 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Title`, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:25:59.016 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Title`, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:25:59.019 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:59.021 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:25:59.022 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:59.023 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:25:59.024 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:25:59.026 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:25:59.027 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:25:59.028 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:25:59.030 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 74.0045ms
2024-09-29 21:25:59.032 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:25:59.032 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:25:59.034 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:25:59.035 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:25:59.036 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=%20Title%20asc - 200 null application/json; charset=utf-8 98.384ms
2024-09-29 21:26:01.525 +03:00 [DBG] Connection id "0HN70MB707ITG" received FIN.
2024-09-29 21:26:01.527 +03:00 [DBG] Connection id "0HN70MB707ITG" is closed. The last processed stream ID was 1.
2024-09-29 21:26:01.527 +03:00 [DBG] The connection queue processing loop for 0HN70MB707ITG completed.
2024-09-29 21:26:01.528 +03:00 [DBG] Connection id "0HN70MB707ITG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:26:01.539 +03:00 [DBG] Connection id "0HN70MB707ITG" stopped.
2024-09-29 21:26:18.903 +03:00 [DBG] Connection id "0HN70MB707ITH" accepted.
2024-09-29 21:26:18.906 +03:00 [DBG] Connection id "0HN70MB707ITH" started.
2024-09-29 21:26:18.910 +03:00 [DBG] Connection 0HN70MB707ITH established using the following protocol: "Tls13"
2024-09-29 21:26:18.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=Price%20desc - null null
2024-09-29 21:26:18.915 +03:00 [DBG] 1 candidate(s) found for the request path '/api/proposals'
2024-09-29 21:26:18.916 +03:00 [DBG] Endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)' with route pattern 'api/proposals' is valid for the request path '/api/proposals'
2024-09-29 21:26:18.918 +03:00 [DBG] Request matched endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:26:18.919 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-29 21:26:18.920 +03:00 [DBG] AuthenticationScheme: BearerToken was not authenticated.
2024-09-29 21:26:18.921 +03:00 [INF] Executing endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:26:18.922 +03:00 [INF] Route matched with {action = "GetAllProposals", controller = "Proposals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ItMarathon.Dal.Common.DataPage`1[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto]]] GetAllProposals(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String) on controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api).
2024-09-29 21:26:18.924 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:26:18.926 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:26:18.928 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:26:18.930 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:26:18.931 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2024-09-29 21:26:18.933 +03:00 [DBG] Executing controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:26:18.935 +03:00 [DBG] Executed controller factory for controller ItMarathon.Api.Controllers.ProposalsController (ItMarathon.Api)
2024-09-29 21:26:18.936 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:26:18.937 +03:00 [DBG] Attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]' using the name '$top' in request data ...
2024-09-29 21:26:18.939 +03:00 [DBG] Could not find a value in the request with name '$top' for binding parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:26:18.940 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:26:18.941 +03:00 [DBG] Done attempting to bind parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:26:18.942 +03:00 [DBG] Attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:26:18.944 +03:00 [DBG] Done attempting to validate the bound parameter 'top' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:26:18.945 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:26:18.946 +03:00 [DBG] Attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]' using the name '$skip' in request data ...
2024-09-29 21:26:18.948 +03:00 [DBG] Could not find a value in the request with name '$skip' for binding parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:26:18.950 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:26:18.953 +03:00 [DBG] Done attempting to bind parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:26:18.954 +03:00 [DBG] Attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]' ...
2024-09-29 21:26:18.955 +03:00 [DBG] Done attempting to validate the bound parameter 'skip' of type 'System.Nullable`1[System.Int32]'.
2024-09-29 21:26:18.956 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' ...
2024-09-29 21:26:18.957 +03:00 [DBG] Attempting to bind parameter 'filter' of type 'System.String' using the name '$filter' in request data ...
2024-09-29 21:26:18.958 +03:00 [DBG] Could not find a value in the request with name '$filter' for binding parameter 'filter' of type 'System.String'.
2024-09-29 21:26:18.960 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:26:18.961 +03:00 [DBG] Done attempting to bind parameter 'filter' of type 'System.String'.
2024-09-29 21:26:18.962 +03:00 [DBG] Attempting to validate the bound parameter 'filter' of type 'System.String' ...
2024-09-29 21:26:18.963 +03:00 [DBG] Done attempting to validate the bound parameter 'filter' of type 'System.String'.
2024-09-29 21:26:18.964 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' ...
2024-09-29 21:26:18.965 +03:00 [DBG] Attempting to bind parameter 'orderby' of type 'System.String' using the name '$orderby' in request data ...
2024-09-29 21:26:18.967 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:26:18.968 +03:00 [DBG] Done attempting to bind parameter 'orderby' of type 'System.String'.
2024-09-29 21:26:18.970 +03:00 [DBG] Attempting to validate the bound parameter 'orderby' of type 'System.String' ...
2024-09-29 21:26:18.971 +03:00 [DBG] Done attempting to validate the bound parameter 'orderby' of type 'System.String'.
2024-09-29 21:26:18.972 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'ApplicationDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql:8.0.2' with options: MigrationsAssembly=ItMarathon.Dal ServerVersion=8.0.39-mysql 
2024-09-29 21:26:18.974 +03:00 [DBG] Creating DbConnection.
2024-09-29 21:26:18.975 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-29 21:26:18.976 +03:00 [DBG] Opening connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:26:18.980 +03:00 [DBG] Opened connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:26:18.982 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:26:18.983 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:26:18.985 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:26:18.986 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Price` DESC, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:26:18.990 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Age`, `p`.`AgeUnits`, `p`.`AppUserId`, `p`.`CreatedOn`, `p`.`IsActive`, `p`.`LastModifiedOn`, `p`.`Location`, `p`.`PetName`, `p`.`PetOrigin`, `p`.`Price`, `p`.`Summary`, `p`.`Title`, `u`.`id`, `u`.`created_on`, `u`.`email`, `u`.`hashed_password`, `u`.`is_active`, `u`.`is_superuser`, `u`.`is_verified`, `u`.`last_modified_on`, `u`.`location`, `u`.`name`, `u`.`phone_number`, `u`.`prefers_phone_call`, `u`.`prefers_telegram`, `u`.`surname`, `p0`.`Id`, `p0`.`CreatedOn`, `p0`.`LastModifiedOn`, `p0`.`ProposalId`, `p0`.`Url`, `t`.`Id`, `t`.`CreatedOn`, `t`.`CustomValue`, `t`.`LastModifiedOn`, `t`.`PredefinedValueId`, `t`.`PropertyDefinitionId`, `t`.`ProposalId`, `t`.`RequestId`, `t`.`Id0`, `t`.`Category`, `t`.`CreatedOn0`, `t`.`IsMandatory`, `t`.`LastModifiedOn0`, `t`.`Name`, `t`.`PropertyDefinitionType`, `t`.`Id1`, `t`.`CreatedOn1`, `t`.`LastModifiedOn1`, `t`.`ParentId`, `t`.`PropertyDefinitionId0`, `t`.`Value`, `t`.`Id2`, `t`.`CreatedOn2`, `t`.`LastModifiedOn2`, `t`.`ParentId0`, `t`.`PropertyDefinitionId1`, `t`.`Value0`
FROM `Proposals` AS `p`
INNER JOIN `users` AS `u` ON `p`.`AppUserId` = `u`.`id`
LEFT JOIN `ProposalsPhoto` AS `p0` ON `p`.`Id` = `p0`.`ProposalId`
LEFT JOIN (
    SELECT `p1`.`Id`, `p1`.`CreatedOn`, `p1`.`CustomValue`, `p1`.`LastModifiedOn`, `p1`.`PredefinedValueId`, `p1`.`PropertyDefinitionId`, `p1`.`ProposalId`, `p1`.`RequestId`, `p2`.`Id` AS `Id0`, `p2`.`Category`, `p2`.`CreatedOn` AS `CreatedOn0`, `p2`.`IsMandatory`, `p2`.`LastModifiedOn` AS `LastModifiedOn0`, `p2`.`Name`, `p2`.`PropertyDefinitionType`, `p3`.`Id` AS `Id1`, `p3`.`CreatedOn` AS `CreatedOn1`, `p3`.`LastModifiedOn` AS `LastModifiedOn1`, `p3`.`ParentId`, `p3`.`PropertyDefinitionId` AS `PropertyDefinitionId0`, `p3`.`Value`, `p4`.`Id` AS `Id2`, `p4`.`CreatedOn` AS `CreatedOn2`, `p4`.`LastModifiedOn` AS `LastModifiedOn2`, `p4`.`ParentId` AS `ParentId0`, `p4`.`PropertyDefinitionId` AS `PropertyDefinitionId1`, `p4`.`Value` AS `Value0`
    FROM `Properties` AS `p1`
    INNER JOIN `PropertiesDefinition` AS `p2` ON `p1`.`PropertyDefinitionId` = `p2`.`Id`
    LEFT JOIN `PropertyValues` AS `p3` ON `p1`.`PredefinedValueId` = `p3`.`Id`
    LEFT JOIN `PropertyValues` AS `p4` ON `p3`.`ParentId` = `p4`.`Id`
) AS `t` ON `p`.`Id` = `t`.`ProposalId`
ORDER BY `p`.`Price` DESC, `p`.`Id`, `u`.`id`, `p0`.`Id`, `t`.`Id`, `t`.`Id0`, `t`.`Id1`
2024-09-29 21:26:18.992 +03:00 [DBG] Closing data reader to 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:26:18.994 +03:00 [DBG] A data reader for 'ItMarathonDb' on server 'localhost' is being disposed after spending 1ms reading results.
2024-09-29 21:26:18.995 +03:00 [DBG] Closing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:26:18.996 +03:00 [DBG] Closed connection to database 'ItMarathonDb' on server 'localhost' (0ms).
2024-09-29 21:26:18.997 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:26:18.999 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/json"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-09-29 21:26:19.002 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:26:19.002 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ItMarathon.Api.Dtos.ProposalDtos.ProposalDto, ItMarathon.Api, Version=1.0.6.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 21:26:19.004 +03:00 [INF] Executed action ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api) in 70.9145ms
2024-09-29 21:26:19.005 +03:00 [INF] Executed endpoint 'ItMarathon.Api.Controllers.ProposalsController.GetAllProposals (ItMarathon.Api)'
2024-09-29 21:26:19.006 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-09-29 21:26:19.007 +03:00 [DBG] Disposing connection to database 'ItMarathonDb' on server 'localhost'.
2024-09-29 21:26:19.008 +03:00 [DBG] Disposed connection to database 'ItMarathonDb' on server 'localhost' (1ms).
2024-09-29 21:26:19.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7223/api/proposals?%24orderby=Price%20desc - 200 null application/json; charset=utf-8 96.5874ms
2024-09-29 21:26:21.552 +03:00 [DBG] Connection id "0HN70MB707ITH" received FIN.
2024-09-29 21:26:21.554 +03:00 [DBG] Connection id "0HN70MB707ITH" is closed. The last processed stream ID was 1.
2024-09-29 21:26:21.554 +03:00 [DBG] The connection queue processing loop for 0HN70MB707ITH completed.
2024-09-29 21:26:21.555 +03:00 [DBG] Connection id "0HN70MB707ITH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:26:21.572 +03:00 [DBG] Connection id "0HN70MB707ITH" stopped.
